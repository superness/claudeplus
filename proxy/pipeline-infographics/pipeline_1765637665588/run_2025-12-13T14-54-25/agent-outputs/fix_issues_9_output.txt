## Fixes Applied

### Issue 1: AudioSystem completely disconnected
- **File**: `client/src/game/Game.ts`
- **Fix**: 
  - Imported `getAudioSystem`, `AudioSystem`, and `Faction` from `../audio/AudioSystem`
  - Added `private audioSystem: AudioSystem` member variable
  - Added `initAudioSystem()` method that:
    - Initializes the audio context
    - Sets up user interaction handler to resume audio (required by browsers)
    - Starts ambient music on first user interaction
    - Subscribes to CombatManager events to play damage impacts, skill activation sounds, heals, buffs, debuffs, and misses
    - Connects audio system to InputManager for UI sounds
    - Wires up EntityManager combat state changes to drive music layers (AMBIENT → COMBAT → BOSS)
  - Added `guessDamageTypeFromSkillName()` helper to select appropriate audio based on skill name
  - Added `audioSystem.dispose()` to cleanup

### Issue 2: InputManager missing audio integration
- **File**: `client/src/game/input/InputManager.ts`
- **Fix**:
  - Added import for `AudioSystem`
  - Added `private audioSystem: AudioSystem | null` member
  - Added `setAudioSystem(audioSystem: AudioSystem)` method
  - Added `audioSystem.playUIClick()` call in `executeSkill()` method so clicking skill buttons produces feedback

### Issue 3: EntityManager missing combat state tracking for music
- **File**: `client/src/game/entities/EntityManager.ts`
- **Fix**:
  - Added `CombatStateChangeCallback` type export
  - Added `combatStateChangeCallback`, `lastCombatState`, and `lastBossState` private properties
  - Added `onCombatStateChange(callback)` method to register the callback
  - Added `updateCombatState()` private method that:
    - Checks for nearby enemies (within 30 units)
    - Detects boss encounters (TERMINUS threat tier)
    - Only fires callback when state actually changes
  - Called `updateCombatState()` in the throttled update loop

### Audio System Now Connected:
- **Weapon sounds**: Play on damage events via `playDamageImpact()`
- **Skill activation sounds**: Play based on skill damage type via `playSkillActivation()`
- **UI click sounds**: Play when pressing skill buttons (1-8, 0)
- **Music layers**: Transition between AMBIENT, COMBAT, and BOSS based on nearby enemies
- **Critical hit sounds**: Extra impact for critical damage

DECISION: retry