Now I have a comprehensive understanding of the design documentation and current implementation. Let me compile the requirements extraction document.

## Feature: Combat Visual Polish (Skill Effects / Animations)

### Design Documentation Status: PARTIALLY SPECIFIED

The design docs provide detailed **mechanical specifications** but **LIMITED visual/aesthetic specifications**. I found extensive combat mechanics but sparse visual effect descriptions.

---

### Specifications from Design Docs

#### Technical/Visual Requirements

**From player-experience.md:**
> "3D third-person perspective similar to Guild Wars 1"

**From CLAUDE.md:**
> "Warhammer 40,000: Imperium Divided - A Warhammer 40K MMO backend with Guild Wars 1-style gameplay mechanics"

**From user's requirements:**
> "Combat working" includes:
> - Skill visual effects / animations
> - Damage numbers floating up
> - Enemy AI fighting back
> - Companion AI using their skills
> - Companions following/positioning
> - Health bars updating
> - Sound effects
> - Skill cooldown visuals
> - Death animations
> - Loot drops visible

**Current implementation status (from user):**
> - 3D scene visible - PASS
> - Player character visible - PASS (as sphere)
> - Companions visible - PASS (multiple spheres with health bars)
> - Lighting present - PARTIAL (UI lit, scene dark)
> - UI complete - PASS (all major elements present)
> - Actual character models - FAIL (placeholder spheres)
> - Visible terrain - FAIL (black void)

#### Damage Types and Visual Colors (from combat-design.md)

**Physical Damage Types:**
| Type | Source | Visual Association |
|------|--------|-------------------|
| Kinetic | "Bolters, slugs, impacts" | Grey/metal |
| Piercing | "Needles, blades, claws" | Blue/steel |
| Explosive | "Grenades, missiles, plasma" | Orange/red |
| Rending | "Power weapons, chainswords" | Deep red |

**Energy Damage Types:**
| Type | Source | Visual Association |
|------|--------|-------------------|
| Thermal | "Flamers, meltas, plasma" | Fire orange |
| Electric | "Arc weapons, shock" | Electric blue |
| Warp | "Psychic powers (Imperial)" | Purple |
| Photon | "Tau pulse weapons" | White/gold |

#### Enemy Threat Classifications (from henchmen-heroes-design.md)

**EXACT QUOTE:**
```
ENEMY THREAT TIERS

MINORIS (WHITE) - Cannon Fodder
├── Visual: White name, simple models
├── HP: 80-150
├── Examples: Gretchin, Cultists, Gue'vesa

MAJORIS (BLUE) - Standard Troops
├── Visual: Blue name, full models
├── HP: 180-350
├── Examples: Guardsmen, Fire Warriors, Boyz

EXTREMIS (YELLOW) - Elite Enemies
├── Visual: Yellow name, enhanced models
├── HP: 400-800
├── Examples: Space Marine, Crisis Suit, Nob

TERMINUS (PURPLE) - Boss-Class Enemies
├── Visual: Purple name, unique models
├── HP: 2,000-8,000
├── Examples: Daemon Prince, Riptide, Warboss

APEX (GOLD) - World Bosses / Raid Bosses
├── Visual: Gold name, spectacular models
├── HP: 8,000-20,000+
├── Examples: Greater Daemon, Titan, Gargant
```

#### Faction-Specific Visual Identity (from systems-integration.md)

**Imperial:**
> "Combat Style: Defensive, resilient, miracle-powered"
> "Lore Feel: Slow, inevitable, holy wrath"

**Tau:**
> "Combat Style: Ranged, coordinated, tactical"  
> "Lore Feel: Precise, coordinated, technologically superior"

**Ork:**
> "Combat Style: Aggressive, chaotic, melee-focused"
> "Lore Feel: Brutal, numerous, unpredictable"

#### Skill Effect Categories (from existing SkillEffects.ts implementation)

Already implemented effect types:
- IMPACT (hit effect at target)
- PROJECTILE (traveling projectile with trail)
- BEAM (instant beam)
- CONE (cone spray - flamers)
- EXPLOSION (AoE explosion with ring)
- AURA (expanding ring - party buffs)
- BUFF (rising particles)
- HEAL (green healing particles)

---

### What Needs to Be Designed (NOT FOUND in docs)

The design docs are **missing explicit specifications** for:

1. **Character Models/Aesthetics**
   - No specs for character model style (stylized vs realistic)
   - No specs for animation style or timing
   - No model specs per class

2. **Death Animations**
   - No death animation specifications found
   - Should vary by damage type? By faction? By enemy tier?

3. **Sound Effects**
   - No audio design document found
   - No sound effect specifications for skills/combat

4. **Terrain/Environment Visuals**
   - No environment art specifications
   - No lighting specifications (user reports "scene dark")

5. **Skill Cooldown Visuals**
   - UI exists but no visual spec for cooldown representation
   - Already implemented in SkillBar.ts but may need polish

6. **Health Bar Styles**
   - Enemy health bar visual specs not found
   - Should scale with enemy tier?

---

### Related Systems in Docs (for context)

**From combat-design.md - Skill activation times:**
> "Skills have activation times (0.25-3 seconds)"
> "Skill queue allows 1 action buffer"

**From player-experience.md - Engagement hooks:**
> "Milestone Dopamine" - rewards every 15-60 minutes
> "First kill + loot" at Hour 0.1

**From henchmen-heroes-design.md - Tactical missions:**
> "Wave composition" - 60-100 enemies per mission
> "Murder runs" - linear wave-based combat

---

### Implementation Checklist (Based on What IS Specified)

#### Already Implemented (verify working):
- [x] Damage type colors (8 types with primary/secondary colors)
- [x] Skill effect system (particle pool, 8 effect types)
- [x] Floating damage numbers with crit styling
- [x] Heal numbers (green)
- [x] Status effect text
- [x] Miss/dodge/block/immune text
- [x] XP and currency gain text
- [x] Skill activation text
- [x] Loot pickup notifications
- [x] Combat log integration

#### Needs Implementation/Fix:
- [ ] **Fix lighting** - Scene is dark/black void (critical for visibility)
- [ ] **Fix terrain** - Currently invisible (black void)
- [ ] **Enemy name colors** - White/Blue/Yellow/Purple/Gold per threat tier
- [ ] **Enemy AI fighting back** - Behavior exists but needs visual feedback
- [ ] **Companion AI skill usage** - Visual feedback when companions use skills
- [ ] **Death animations** - Currently not specified, needs design decision
- [ ] **Sound effects** - Not designed, needs specification
- [ ] **Character models** - Currently placeholder spheres, needs 3D assets or procedural generation

---

### Recommended Design Decisions Needed

Since visual polish specifications are incomplete, the following decisions are needed:

1. **Art Style Decision**: Stylized low-poly (faster to implement) vs detailed models (more 40K authentic)?

2. **Death Animation Approach**:
   - Simple fade out?
   - Ragdoll physics?
   - Damage-type specific (burn away for thermal, dissolve for warp)?

3. **Audio Priority**: Implement placeholder sounds now or defer?

4. **Terrain Fix**: Debug current implementation vs redesign World.ts?

DECISION: needs_design