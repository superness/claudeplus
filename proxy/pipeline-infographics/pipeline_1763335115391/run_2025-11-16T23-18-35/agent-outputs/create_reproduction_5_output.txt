I'll create a comprehensive reproduction script to automate the detection of this ship movement bug using the WebSocket automation framework.

```json
{
  "scriptPath": "/mnt/c/github/superstarships/reproduce_ship_movement_bug.js",
  "scriptContent": "#!/usr/bin/env node\n// Bug Reproduction: Ship does not move when navigation targets are set\n// Critical bug - ship remains stationary despite navigation commands\n\nconst WebSocket = require('ws');\nconst { spawn } = require('child_process');\nconst fs = require('fs');\n\nconst WS_PORT = 8765;\nlet gameClient = null;\nlet testClient = null;\nlet commandId = 1;\nlet commandQueue = [];\nconst evidence = {\n  timestamp: new Date().toISOString(),\n  bugDescription: 'Ship does not move when navigation targets are set',\n  commands: [],\n  movements: []\n};\n\n// Define test scenario to reproduce ship movement bug\nfunction defineScenario() {\n  return [\n    {\n      command: 'getShipState',\n      params: {},\n      verify: (r) => {\n        // Record initial position\n        evidence.initialPosition = r.position;\n        evidence.initialVelocity = r.velocity;\n        console.log(`Initial position: ${JSON.stringify(r.position)}`);\n        console.log(`Initial velocity: ${JSON.stringify(r.velocity)}`);\n        return r.position !== undefined && r.velocity !== undefined;\n      },\n      desc: 'Get initial ship state and position'\n    },\n    {\n      command: 'setNavigationTarget',\n      params: { x: 1000, y: 0, z: 0, speedSetting: 0.75 },\n      verify: (r) => {\n        console.log(`Navigation target set: ${r.success}`);\n        return r.success === true;\n      },\n      desc: 'Set navigation target 1000m ahead on X axis'\n    },\n    {\n      command: 'wait',\n      params: { duration: 2000 },\n      verify: () => true,\n      desc: 'Wait 2 seconds for ship to start moving'\n    },\n    {\n      command: 'getShipState',\n      params: {},\n      verify: (r) => {\n        evidence.positionAfter2s = r.position;\n        evidence.velocityAfter2s = r.velocity;\n        \n        // Calculate distance moved\n        const dx = r.position.x - evidence.initialPosition.x;\n        const dy = r.position.y - evidence.initialPosition.y;\n        const dz = r.position.z - evidence.initialPosition.z;\n        const distanceMoved = Math.sqrt(dx*dx + dy*dy + dz*dz);\n        \n        evidence.distanceMovedAfter2s = distanceMoved;\n        evidence.velocityMagnitude = Math.sqrt(\n          r.velocity.x * r.velocity.x +\n          r.velocity.y * r.velocity.y +\n          r.velocity.z * r.velocity.z\n        );\n        \n        console.log(`Position after 2s: ${JSON.stringify(r.position)}`);\n        console.log(`Velocity after 2s: ${JSON.stringify(r.velocity)}`);\n        console.log(`Distance moved: ${distanceMoved.toFixed(2)}m`);\n        console.log(`Velocity magnitude: ${evidence.velocityMagnitude.toFixed(2)}m/s`);\n        \n        // Ship should have moved at least 1m after 2 seconds with navigation target\n        // BUG: Ship does not move, so this will fail\n        return distanceMoved > 1.0;\n      },\n      desc: 'Verify ship has moved toward navigation target'\n    },\n    {\n      command: 'getShipState',\n      params: {},\n      verify: (r) => {\n        // Get navigation command state\n        evidence.navigationCommand = r.navigationCommand;\n        evidence.thrustVector = r.thrustVector;\n        \n        console.log(`Navigation command: ${JSON.stringify(r.navigationCommand)}`);\n        console.log(`Thrust vector: ${JSON.stringify(r.thrustVector)}`);\n        \n        return true;\n      },\n      desc: 'Capture navigation command and thrust vector state'\n    },\n    {\n      command: 'wait',\n      params: { duration: 3000 },\n      verify: () => true,\n      desc: 'Wait additional 3 seconds'\n    },\n    {\n      command: 'getShipState',\n      params: {},\n      verify: (r) => {\n        evidence.positionAfter5s = r.position;\n        evidence.velocityAfter5s = r.velocity;\n        \n        const dx = r.position.x - evidence.initialPosition.x;\n        const dy = r.position.y - evidence.initialPosition.y;\n        const dz = r.position.z - evidence.initialPosition.z;\n        const distanceMoved = Math.sqrt(dx*dx + dy*dy + dz*dz);\n        \n        evidence.distanceMovedAfter5s = distanceMoved;\n        \n        console.log(`Position after 5s total: ${JSON.stringify(r.position)}`);\n        console.log(`Total distance moved: ${distanceMoved.toFixed(2)}m`);\n        \n        // After 5 seconds, ship should have moved significantly\n        // BUG: Ship remains at origin, distance moved = 0\n        return distanceMoved > 10.0;\n      },\n      desc: 'Verify ship continues moving after 5 seconds total'\n    }\n  ];\n}\n\n// Start WebSocket server for game automation\nasync function startAutomationServer() {\n  return new Promise((resolve) => {\n    const wss = new WebSocket.Server({ port: WS_PORT });\n    console.log(`WebSocket automation server started on port ${WS_PORT}`);\n\n    wss.on('connection', (ws, req) => {\n      const url = new URL(req.url, 'http://localhost');\n      const clientType = url.searchParams.get('client');\n\n      if (clientType === 'game') {\n        gameClient = ws;\n        console.log('Game connected to automation server');\n        ws.on('message', (msg) => {\n          if (testClient && testClient.readyState === WebSocket.OPEN) {\n            testClient.send(msg);\n          }\n        });\n        ws.on('close', () => {\n          console.log('Game disconnected');\n          saveEvidence('DISCONNECTED', evidence);\n          process.exit(1);\n        });\n      } else if (clientType === 'test') {\n        testClient = ws;\n        console.log('Test client connected');\n        ws.on('message', (msg) => {\n          if (gameClient && gameClient.readyState === WebSocket.OPEN) {\n            gameClient.send(msg);\n          }\n        });\n      }\n\n      if (clientType === 'game') resolve();\n    });\n\n    wss.on('error', (err) => {\n      console.error('WebSocket server error:', err);\n      process.exit(1);\n    });\n  });\n}\n\n// Launch Chrome and run test\nasync function runTest() {\n  console.log('='.repeat(60));\n  console.log('SHIP MOVEMENT BUG REPRODUCTION SCRIPT');\n  console.log('Bug: Ship does not move when navigation targets are set');\n  console.log('='.repeat(60));\n  \n  // Start automation server first\n  const serverPromise = startAutomationServer();\n\n  // Launch game in Chrome with testMode\n  console.log('\\nLaunching game in Chrome...');\n  const gameUrl = 'http://localhost:8080/index.html?testMode=true';\n  spawn('cmd.exe', [\n    '/c', 'start', 'chrome',\n    '--user-data-dir=C:\\\\temp\\\\chrome-test-profile',\n    '--no-first-run',\n    '--no-default-browser-check',\n    '--disable-extensions',\n    gameUrl\n  ], {detached: true, stdio: 'ignore'});\n\n  // Wait for game to connect\n  console.log('Waiting for game to connect...');\n  await serverPromise;\n  console.log('Game connected! Waiting 3s for initialization...');\n  await new Promise(r => setTimeout(r, 3000));\n\n  // Connect test client\n  console.log('Connecting test client...\\n');\n  testClient = new WebSocket(`ws://localhost:${WS_PORT}?client=test`);\n\n  testClient.on('open', () => {\n    console.log('Test client ready! Starting test sequence...\\n');\n    commandQueue = defineScenario();\n    executeNextCommand();\n  });\n\n  testClient.on('message', handleGameResponse);\n  testClient.on('error', (err) => {\n    console.error('Test client error:', err);\n    saveEvidence('ERROR', {error: err.message, ...evidence});\n    process.exit(1);\n  });\n}\n\nfunction sendGameCommand(command, params) {\n  const id = String(commandId++);\n  \n  // Special handling for wait command (execute locally)\n  if (command === 'wait') {\n    console.log(`[${id}] Waiting ${params.duration}ms...`);\n    setTimeout(() => {\n      handleGameResponse(JSON.stringify({\n        id,\n        success: true,\n        data: { waited: params.duration }\n      }));\n    }, params.duration);\n    return id;\n  }\n  \n  testClient.send(JSON.stringify({\n    type: 'command',\n    command: {id, command, params}\n  }));\n  return id;\n}\n\nfunction handleGameResponse(data) {\n  const response = JSON.parse(data);\n  console.log(`\\n[Response ${response.id}]:`);\n  console.log(JSON.stringify(response, null, 2));\n  \n  const currentCmd = commandQueue[0];\n  evidence.commands.push({\n    command: currentCmd?.command,\n    params: currentCmd?.params,\n    response: response,\n    timestamp: new Date().toISOString()\n  });\n  \n  if (!response.success) {\n    console.error('\\n‚ùå Command failed:', response.error);\n    saveEvidence('COMMAND_FAILED', evidence);\n    process.exit(1);\n    return;\n  }\n  \n  if (currentCmd && currentCmd.verify) {\n    try {\n      const passed = currentCmd.verify(response.data);\n      console.log(`\\n${passed ? '‚úÖ' : '‚ùå'} Verification [${currentCmd.desc}]: ${passed ? 'PASS' : 'FAIL'}`);\n      \n      if (!passed) {\n        console.error(`\\nüêõ BUG REPRODUCED: ${currentCmd.desc}`);\n        console.error('Expected behavior not met - ship is not moving!');\n        saveEvidence('BUG_REPRODUCED', evidence);\n        process.exit(0); // Exit success because we successfully reproduced the bug\n        return;\n      }\n    } catch (err) {\n      console.error('\\n‚ùå Verification error:', err.message);\n      saveEvidence('VERIFICATION_ERROR', {...evidence, verificationError: err.message});\n      process.exit(1);\n      return;\n    }\n  }\n  \n  executeNextCommand();\n}\n\nfunction executeNextCommand() {\n  if (commandQueue.length === 0) {\n    console.log('\\n‚úÖ All commands executed - bug was NOT reproduced');\n    console.log('Ship is moving correctly!');\n    saveEvidence('BUG_NOT_REPRODUCED', evidence);\n    process.exit(0);\n    return;\n  }\n  \n  commandQueue.shift();\n  const cmd = commandQueue[0];\n  console.log(`\\n${'='.repeat(60)}`);\n  console.log(`Executing: ${cmd.desc}`);\n  console.log(`${'='.repeat(60)}`);\n  sendGameCommand(cmd.command, cmd.params);\n}\n\nfunction saveEvidence(status, data) {\n  const filename = `ship_movement_bug_evidence_${Date.now()}.json`;\n  const finalEvidence = {\n    ...data,\n    status,\n    finalTimestamp: new Date().toISOString(),\n    analysis: {\n      bugReproduced: status === 'BUG_REPRODUCED',\n      distanceMoved: data.distanceMovedAfter5s || 0,\n      expectedDistance: 10.0,\n      velocityMagnitude: data.velocityMagnitude || 0,\n      expectedVelocity: '>0',\n      conclusion: status === 'BUG_REPRODUCED' \n        ? 'Ship does not move despite navigation target being set. Thrust vector is likely zero or navigation command is not being processed correctly.'\n        : 'Ship movement is working correctly'\n    }\n  };\n  \n  fs.writeFileSync(`./${filename}`, JSON.stringify(finalEvidence, null, 2));\n  console.log(`\\nüìÅ Evidence saved to ${filename} (${status})`);\n  \n  // Also save to fixed filename for easy access\n  fs.writeFileSync('./ship_movement_bug_evidence.json', JSON.stringify(finalEvidence, null, 2));\n}\n\nrunTest();",
  "commandSequence": [
    {
      "command": "getShipState",
      "params": {},
      "expectedResult": "Initial position and velocity recorded (likely x:0, y:0, z:0 and velocity:0)"
    },
    {
      "command": "setNavigationTarget",
      "params": { "x": 1000, "y": 0, "z": 0, "speedSetting": 0.75 },
      "expectedResult": "success === true (navigation target set)"
    },
    {
      "command": "wait",
      "params": { "duration": 2000 },
      "expectedResult": "Wait 2 seconds for physics to apply thrust"
    },
    {
      "command": "getShipState",
      "params": {},
      "expectedResult": "BUG: Ship position unchanged (0,0,0), velocity still (0,0,0), distance moved < 1m - VERIFICATION FAILS HERE"
    },
    {
      "command": "getShipState",
      "params": {},
      "expectedResult": "Capture navigationCommand and thrustVector state - likely shows thrustVector magnitude = 0"
    },
    {
      "command": "wait",
      "params": { "duration": 3000 },
      "expectedResult": "Wait additional 3 seconds"
    },
    {
      "command": "getShipState",
      "params": {},
      "expectedResult": "BUG: After 5s total, ship still at origin, distance moved = 0 - bug confirmed"
    }
  ],
  "evidenceFiles": [
    "ship_movement_bug_evidence.json",
    "ship_movement_bug_evidence_[timestamp].json"
  ],
  "expectedOutcome": "Bug reproduced when ship fails to move after setting navigation target. Evidence will show:\n1. Initial position at origin (0,0,0)\n2. Navigation target successfully set with coordinates (1000,0,0) and speedSetting=0.75\n3. After 2 seconds: position still (0,0,0), velocity still (0,0,0) - VERIFICATION FAILS\n4. Distance moved = 0m (expected > 1m)\n5. Thrust vector magnitude = 0 (should be > 0)\n6. After 5 seconds: ship still stationary\n7. Script exits with status 'BUG_REPRODUCED' and detailed evidence JSON"
}
```

DECISION: script_ready