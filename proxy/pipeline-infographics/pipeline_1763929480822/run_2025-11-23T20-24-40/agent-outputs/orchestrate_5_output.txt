## Infrastructure State Analysis

**Current State Detected:**

✓ **Dependencies**: Installed (bitcoind, CoiniumServ.exe, Mono)
✓ **Configs**: Generated (daemon config exists, pool configs exist)
✓ **Daemon**: RUNNING (PID 35780, RPC accessible, block height 342, wallet funded)
✓ **Pool Process**: RUNNING (PID 11516, CoiniumServ.exe active)

✗ **Pool Functionality**: BROKEN - Critical errors detected:
- Stratum port 3333 NOT listening (connection refused)
- Job creation failing: "Invalid wallet address" errors
- Pool using invalid wallet format with worker suffix: `bcrt1qpsrfamx3tnkhk5xyy3k0vyprlfcwfmls4j2nf7.worker1`
- Config has legacy wallet: `mu9qZy9mpQwhBzU5p7yisJ3JXm5KCXryWs`
- Miner connection forcibly closed due to job creation failures
- Statistics recaching errors

✗ **Miner**: NOT configured (no miner setup detected)

**Root Cause Analysis:**

The pool is running as a process but **not functioning correctly**. The critical issue is:
1. Pool config has wallet address `mu9qZy9mpQwhBzU5p7yisJ3JXm5KCXryWs` (legacy P2PKH format)
2. Pool is trying to process miner requests with wallet `bcrt1qpsrfamx3tnkhk5xyy3k0vyprlfcwfmls4j2nf7.worker1` (bech32 format with worker suffix)
3. Job creation fails because pool code cannot handle the `.worker1` suffix in the wallet address
4. Stratum port not listening because pool initialization failed

**Infrastructure State Model:**

```json
{
  "dependencies": {"status": "installed"},
  "configs": {"status": "generated_but_invalid", "issue": "wallet_format_mismatch"},
  "daemon": {"status": "running", "rpcAccessible": true, "blockHeight": 342, "walletFunded": true},
  "pool": {"status": "process_running_but_broken", "stratumPort": 3333, "stratumAccessible": false, "issue": "job_creation_failure"},
  "miner": {"status": "not_configured"},
  "failureType": "pool_wallet_configuration_error"
}
```

**Decision Logic:**

This is a **pool-specific configuration error**. The pool process is running but cannot function because:
- Wallet address format issues
- Job creation logic broken
- Stratum server not initializing properly

This matches the routing pattern: `handle_pool_errors` - Pool-specific error detected, route to pool handler.

The pool handler specialist should:
1. Stop the broken pool process
2. Fix wallet configuration in pool config
3. Ensure proper wallet address format (no worker suffix in config)
4. Restart pool with corrected configuration
5. Verify Stratum port listening and job creation working

DECISION: handle_pool_errors

REASONING:
Pool process running (PID 11516) but not functional. Critical pool-specific errors detected:
- Stratum port 3333 not listening (connection refused)
- Job creation failing with "Invalid wallet address" errors
- Pool config has wallet format issues causing job creation to fail
- Miner connections rejected due to pool job creation failures

Daemon is healthy (running, RPC accessible, 342 blocks, wallet funded). Dependencies and configs exist. This is a pool-specific configuration and operational error requiring specialized pool error handling to fix wallet configuration, restart pool properly, and verify Stratum functionality.

DECISION: handle_pool_errors