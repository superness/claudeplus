UNDERSTANDING: User wants me to create an agent JSON specification for an rpc_tester agent that will test Bitcoin RPC functionality in the SuperCoinServ mining pool. The agent needs to validate all RPC endpoints used by the pool, test authentication/authorization, monitor performance metrics, detect errors/timeouts, and generate test reports.

APPROACH: Based on the exploration results, I'll design a comprehensive test agent that:
1. Tests all identified RPC methods (getblocktemplate, submitblock, getinfo, etc.) - approximately 30+ methods found
2. Validates HTTP Basic Authentication with credentials from daemon config
3. Tests error handling for all RPC exception types (timeout, connection, error codes)
4. Monitors RPC latency and throughput metrics
5. Generates structured test reports with pass/fail status
6. Uses the existing DaemonClient configuration structure for connectivity

STEPS:
1) Read example agent JSON files from /mnt/c/github/claudeplus/agents/ to understand the agent schema and format
2) Review the DaemonClient.cs file to get complete list of RPC methods to test
3) Review DaemonConfig.cs to understand authentication configuration structure
4) Review RpcErrorCode.cs to get all error codes to test
5) Design test cases covering:
   - Basic connectivity tests (getinfo, getnetworkinfo, getblockchaininfo)
   - Mining-critical methods (getblocktemplate, submitblock, getmininginfo)
   - Transaction methods (gettransaction, sendmany, validateaddress)
   - Block methods (getblock, getblockhash, getblockcount)
   - Error scenarios (invalid params, timeout simulation, connection failures)
   - Authentication failures (wrong credentials, missing credentials)
   - Performance benchmarks (latency measurement, throughput testing)
6) Create JSON structure with:
   - Agent metadata (name, description, permissions, decisions)
   - Test configuration parameters (RPC endpoints, credentials, timeout thresholds)
   - Test execution workflow (sequential test execution with error handling)
   - Report generation logic (JSON/text output with metrics)
7) Write the complete agent JSON to /mnt/c/github/claudeplus/agents/rpc_tester.json

TEST_CONSIDERATIONS:
- **RPC Method Coverage**: Will test all 30+ RPC methods identified in exploration (getblocktemplate, submitblock, getinfo, getnetworkinfo, getblock, gettransaction, sendmany, validateaddress, etc.)
- **Authentication Tests**: Test valid credentials, invalid username, invalid password, missing credentials
- **Error Code Handling**: Test all RPC error codes from RpcErrorCode.cs (-32600 to -32700 JSON-RPC errors, -1 to -26 Bitcoin errors)
- **Timeout Scenarios**: Test with very short timeout values to trigger RpcTimeoutException
- **Connection Failures**: Test with invalid host/port to trigger RpcConnectionException
- **Performance Metrics**: Measure latency (avg/min/max/p95/p99), throughput (requests/sec), success rate
- **Edge Cases**: Empty parameters, malformed JSON, unsupported methods, blockchain sync state
- **Multi-Pool Testing**: Test against multiple daemon configurations if multiple pools configured
- **Report Formats**: Generate both JSON (machine-readable) and text (human-readable) reports

EVIDENCE: The agent will collect and report:
1. **Test Execution Log**: Timestamp, method name, parameters, response time, status (pass/fail), error details
2. **Authentication Results**: Success/failure for each credential configuration tested
3. **Performance Metrics**: 
   - Per-method latency statistics (min/max/avg/median/p95/p99)
   - Overall throughput (total requests/sec)
   - Success rate percentage
   - Timeout count and percentage
4. **Error Analysis**:
   - Count of each RPC error code encountered
   - List of failed methods with error messages
   - Connection failure details
5. **Coverage Report**: List of all RPC methods tested vs. methods available
6. **Summary Statistics**: Total tests, passed, failed, skipped, execution time
7. **Raw RPC Responses**: Sample responses for validation (optional verbose mode)

CONFIDENCE: High - I have comprehensive understanding of:
- The complete RPC implementation architecture from the exploration
- All RPC methods used by the pool (30+ methods identified)
- Authentication mechanism (HTTP Basic Auth with DaemonConfig)
- Error handling structure (RpcException hierarchy, error codes)
- Configuration file structure (daemon config in pool JSON)
- Agent JSON schema requirements (from user specifications)
- Performance monitoring requirements (latency, throughput metrics)

The agent design will be straightforward as it follows standard testing patterns: connect, authenticate, execute tests, collect metrics, generate report. The exploration provided complete visibility into the RPC implementation details.

[DECISION: design_complete]

DECISION: design_complete