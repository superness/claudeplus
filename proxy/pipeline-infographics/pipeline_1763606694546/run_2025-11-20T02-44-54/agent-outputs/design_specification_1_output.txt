UNDERSTANDING: User wants me to create a plan for building an rpc_tester agent that tests Bitcoin RPC functionality for a pool. The agent needs to test various RPC endpoints (getblocktemplate, submitblock, getinfo), validate authentication, monitor performance metrics, detect errors/timeouts, and generate test reports. The agent specification should be written as JSON to a specific file path.

APPROACH: I will create a comprehensive plan to design an agent JSON specification that defines the rpc_tester agent with appropriate capabilities, tool permissions, and decision-making logic. I'll examine the existing codebase structure to understand the pool's RPC usage patterns, identify all RPC endpoints that need testing, and design test scenarios covering authentication, performance monitoring, error detection, and reporting.

STEPS:
1) Use Glob to find existing agent JSON files in /mnt/c/github/claudeplus/agents/ to understand the agent specification format and structure
2) Use Read to examine 1-2 existing agent files to understand the JSON schema (fields like name, description, permissions, tools, decisions, prompts, etc.)
3) Use Grep to search the codebase for Bitcoin RPC calls (search for patterns like "getblocktemplate", "submitblock", "getinfo", "getblockcount", "validateaddress", etc.) to identify all RPC endpoints used by the pool
4) Use Grep to find RPC client implementations and authentication mechanisms in the codebase (search for "rpc", "bitcoin", "daemon" keywords)
5) Use Read to examine the RPC client code to understand connection handling, authentication, and error handling patterns
6) Design the agent JSON structure with:
   - Agent metadata (name, description, version)
   - Permissions array: ["Read", "Write", "Edit", "Bash", "Glob", "Grep"]
   - Decision options: ["rpc_tests_passed", "rpc_tests_failed", "error"]
   - Detailed prompt/instructions covering all test requirements
7) Create test specification sections for:
   - Endpoint validation tests (getblocktemplate, submitblock, getinfo, getblockcount, etc.)
   - Authentication/authorization tests
   - Performance monitoring (latency tracking, throughput measurement)
   - Error detection (timeouts, connection failures, invalid responses)
   - Report generation format
8) Use Write to create the complete agent JSON file at /mnt/c/github/claudeplus/agents/rpc_tester.json

TEST_CONSIDERATIONS: 
- The agent must handle scenarios where RPC endpoints are unavailable or timeout
- Must test various authentication failure scenarios (invalid credentials, missing auth)
- Must validate response formats for each RPC method match expected schema
- Performance tests should cover both normal and high-load scenarios
- Error detection should handle network failures, malformed responses, and RPC-specific errors
- Report generation should aggregate results across all test categories
- Must handle both Bitcoin Core and compatible daemon implementations

EVIDENCE:
- Will provide the complete agent JSON specification showing all fields properly structured
- Will show evidence of examined existing agent files to ensure format consistency
- Will demonstrate that all required RPC endpoints from the codebase are included in test specifications
- Will show the three decision paths (rpc_tests_passed, rpc_tests_failed, error) are properly defined
- Will verify the file is written to the correct path with proper JSON syntax
- Will include specific test cases for each requirement (authentication, performance, error detection, reporting)

CONFIDENCE: High - This is a design/specification task that involves examining existing patterns in the codebase and creating a structured JSON document. The requirements are clear and the agent framework appears to follow a standard pattern. The main dependencies are understanding the existing agent format and identifying the RPC endpoints used by the pool, both achievable through code examination.

DECISION: design_complete