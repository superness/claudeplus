<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <!-- NO meta refresh - viewer handles refreshing via iframe reload to preserve toggle state -->
  <title>Pipeline: Feature Development Pipeline V1</title>
  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; }
    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, sans-serif;
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      padding: 20px;
      color: #333;
    }
    .container {
      max-width: 1400px;
      margin: 0 auto;
    }
    .header {
      background: white;
      border-radius: 12px;
      padding: 30px;
      margin-bottom: 20px;
      box-shadow: 0 10px 40px rgba(0,0,0,0.1);
    }
    .header h1 {
      font-size: 2.5em;
      margin-bottom: 10px;
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
    }
    .metrics {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
      gap: 15px;
      margin-top: 20px;
    }
    .metric {
      background: #f8f9fa;
      padding: 15px;
      border-radius: 8px;
      border-left: 4px solid #667eea;
    }
    .metric-label {
      font-size: 0.85em;
      color: #6c757d;
      text-transform: uppercase;
      letter-spacing: 0.5px;
    }
    .metric-value {
      font-size: 1.8em;
      font-weight: bold;
      color: #333;
      margin-top: 5px;
    }
    .timeline {
      position: relative;
      padding-left: 40px;
      margin-top: 20px;
    }
    .timeline::before {
      content: '';
      position: absolute;
      left: 20px;
      top: 0;
      bottom: 0;
      width: 2px;
      background: linear-gradient(180deg, #667eea 0%, #764ba2 100%);
    }
    .stage {
      background: white;
      border-radius: 12px;
      padding: 25px;
      margin-bottom: 20px;
      position: relative;
      box-shadow: 0 4px 20px rgba(0,0,0,0.08);
      transition: transform 0.2s;
    }
    .stage:hover {
      transform: translateX(5px);
    }
    .stage::before {
      content: '';
      position: absolute;
      left: -28px;
      top: 30px;
      width: 16px;
      height: 16px;
      border-radius: 50%;
      border: 3px solid white;
      box-shadow: 0 0 0 2px #667eea;
    }
    .stage.running::before { background: #ffc107; box-shadow: 0 0 0 2px #ffc107, 0 0 20px #ffc107; }
    .stage.completed::before { background: #28a745; box-shadow: 0 0 0 2px #28a745; }
    .stage.error::before { background: #dc3545; box-shadow: 0 0 0 2px #dc3545; }
    .stage-header {
      display: flex;
      justify-content: space-between;
      align-items: start;
      margin-bottom: 15px;
    }
    .stage-title {
      font-size: 1.4em;
      font-weight: bold;
      color: #333;
    }
    .stage-badge {
      display: inline-block;
      padding: 5px 12px;
      border-radius: 20px;
      font-size: 0.75em;
      font-weight: bold;
      text-transform: uppercase;
      letter-spacing: 0.5px;
    }
    .badge-running { background: #fff3cd; color: #856404; }
    .badge-completed { background: #d4edda; color: #155724; }
    .badge-error { background: #f8d7da; color: #721c24; }
    .stage-meta {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
      gap: 10px;
      margin: 15px 0;
      padding: 15px;
      background: #f8f9fa;
      border-radius: 8px;
    }
    .meta-item {
      font-size: 0.9em;
    }
    .meta-label {
      color: #6c757d;
      font-weight: 500;
    }
    .meta-value {
      color: #333;
      font-weight: bold;
      margin-left: 5px;
    }
    .stage-output {
      margin-top: 15px;
      padding: 20px;
      background: #f8f9fa;
      border-radius: 8px;
      border-left: 4px solid #667eea;
      max-height: 500px;
      overflow-y: auto;
    }
    .stage-output pre {
      white-space: pre-wrap;
      word-wrap: break-word;
      font-family: 'Monaco', 'Menlo', monospace;
      font-size: 0.9em;
      line-height: 1.6;
      color: #333;
    }
    .error-box {
      background: #fff5f5;
      border: 2px solid #fc8181;
      border-radius: 8px;
      padding: 20px;
      margin-top: 15px;
    }
    .error-title {
      color: #c53030;
      font-weight: bold;
      margin-bottom: 10px;
    }
    .error-stack {
      font-family: 'Monaco', 'Menlo', monospace;
      font-size: 0.85em;
      color: #742a2a;
      background: white;
      padding: 15px;
      border-radius: 6px;
      overflow-x: auto;
    }
    .routing-info {
      background: #e7f3ff;
      border-left: 4px solid #2196F3;
      padding: 15px;
      margin-top: 15px;
      border-radius: 6px;
    }
    .routing-decision {
      font-weight: bold;
      color: #1976D2;
      margin-bottom: 5px;
    }
    .completion-banner {
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      color: white;
      padding: 30px;
      border-radius: 12px;
      text-align: center;
      margin-bottom: 20px;
      box-shadow: 0 10px 40px rgba(0,0,0,0.2);
    }
    .completion-banner h2 {
      font-size: 2em;
      margin-bottom: 10px;
    }
    @keyframes pulse {
      0%, 100% { opacity: 1; }
      50% { opacity: 0.5; }
    }
    .running-indicator {
      display: inline-block;
      width: 8px;
      height: 8px;
      background: #ffc107;
      border-radius: 50%;
      margin-right: 8px;
      animation: pulse 1.5s infinite;
    }
    .ai-summary {
      background: white;
      border-radius: 12px;
      padding: 30px;
      margin-bottom: 20px;
      box-shadow: 0 10px 40px rgba(0,0,0,0.1);
      border-left: 6px solid #667eea;
    }
    .ai-summary h2 {
      font-size: 1.8em;
      margin-bottom: 15px;
      color: #333;
    }
    .summary-narrative {
      font-size: 1.1em;
      line-height: 1.8;
      color: #555;
    }
    .collapsible {
      cursor: pointer;
      padding: 12px;
      background: #f8f9fa;
      border: 1px solid #dee2e6;
      border-radius: 6px;
      margin: 10px 0;
      font-weight: bold;
      color: #495057;
      transition: background 0.2s;
    }
    .collapsible:hover {
      background: #e9ecef;
    }
    .collapsible::before {
      content: '‚ñ∂ ';
      display: inline-block;
      transition: transform 0.2s;
    }
    .collapsible.active::before {
      transform: rotate(90deg);
    }
    .collapsible-content {
      display: none;
      padding: 15px;
      background: #f8f9fa;
      border-radius: 6px;
      margin-top: 5px;
      border-left: 4px solid #667eea;
    }
    .collapsible-content.active {
      display: block;
    }
    .prompt-section {
      background: #fff5e6;
      border-left: 4px solid #ff9800;
      padding: 15px;
      margin: 10px 0;
      border-radius: 6px;
    }
    .output-section {
      background: #e8f5e9;
      border-left: 4px solid #4caf50;
      padding: 15px;
      margin: 10px 0;
      border-radius: 6px;
    }
    .section-label {
      font-weight: bold;
      font-size: 0.9em;
      text-transform: uppercase;
      letter-spacing: 0.5px;
      margin-bottom: 10px;
      color: #555;
    }
    .char-count {
      font-size: 0.85em;
      color: #6c757d;
      font-style: italic;
    }
    pre.code-content {
      white-space: pre-wrap;
      word-wrap: break-word;
      font-family: 'Monaco', 'Menlo', 'Consolas', monospace;
      font-size: 0.85em;
      line-height: 1.6;
      color: #333;
      background: white;
      padding: 15px;
      border-radius: 6px;
      max-height: none;
      overflow-x: auto;
    }
  </style>
</head>
<body>
  <div class="container">
    

    

    <div class="header">
      <h1><span class="running-indicator"></span>Feature Development Pipeline V1</h1>
      <p style="color: #6c757d; font-size: 1.1em; margin-top: 5px;">Pipeline ID: pipeline_1763504460033</p>

      <div class="metrics">
        <div class="metric">
          <div class="metric-label">Elapsed Time</div>
          <div class="metric-value">53.2s</div>
        </div>
        <div class="metric">
          <div class="metric-label">Stages Completed</div>
          <div class="metric-value">1/2</div>
        </div>
        <div class="metric">
          <div class="metric-label">Errors</div>
          <div class="metric-value" style="color: #28a745">0</div>
        </div>
        <div class="metric">
          <div class="metric-label">Status</div>
          <div class="metric-value" style="font-size: 1.2em;">‚ö° Running</div>
        </div>
      </div>
    </div>

    <div class="timeline">
      
    <div class="stage completed">
      <div class="stage-header">
        <div>
          <div class="stage-title">Feature Definition</div>
          <div style="color: #6c757d; font-size: 0.9em; margin-top: 5px;">Define feature specifications and acceptance criteria</div>
        </div>
        <span class="stage-badge badge-completed">completed</span>
      </div>

      <div class="stage-meta">
        <div class="meta-item">
          <span class="meta-label">Agent:</span>
          <span class="meta-value">feature_definer</span>
        </div>
        <div class="meta-item">
          <span class="meta-label">Type:</span>
          <span class="meta-value">planner</span>
        </div>
        <div class="meta-item">
          <span class="meta-label">Duration:</span>
          <span class="meta-value">52.0s</span>
        </div>
        <div class="meta-item">
          <span class="meta-label">Execution #:</span>
          <span class="meta-value">1</span>
        </div>
        
        <div class="meta-item">
          <span class="meta-label">Prompt Size:</span>
          <span class="meta-value">2,489 chars</span>
        </div>
        
        
        <div class="meta-item">
          <span class="meta-label">Output Size:</span>
          <span class="meta-value">8,776 chars</span>
        </div>
        
      </div>

      
      <div class="prompt-section">
        <div class="section-label">üì• AGENT PROMPT <span class="char-count">(2,489 characters)</span></div>
        <button class="collapsible" data-target="prompt_define_feature_1">Click to expand prompt from feature_definer</button>
        <div class="collapsible-content" id="prompt_define_feature_1">
          <pre class="code-content">You are a Feature Definer that creates detailed feature specifications.

Your job is to turn vague feature requests into clear, testable specifications.

Definition process:
1. **Understand the request**:
   - What does the user want?
   - Why do they want it?
   - What problem does it solve?

2. **Define the feature clearly**:
   - What exactly will this feature do?
   - How will users interact with it?
   - What are the boundaries (what it does NOT do)?

3. **Create acceptance criteria**:
   - Specific, testable conditions for &quot;done&quot;
   - Observable behaviors
   - Edge cases to handle

4. **Identify affected systems**:
   - Which files/modules need changes?
   - What existing features might be impacted?
   - Are there dependencies?

Example:
```
Request: &quot;Add a minimap to the game&quot;

Feature Definition:
- Display a small map in top-right corner showing player position
- Show nearby ships as dots (friendly=green, enemy=red)
- Update in real-time as player moves
- Clickable to center camera on clicked location
- Toggle on/off with M key

Acceptance Criteria:
‚úì Minimap appears in top-right corner (200x200px)
‚úì Player ship shown as blue triangle
‚úì Other ships shown as colored dots
‚úì Map updates at 10 FPS minimum
‚úì Clicking minimap centers main camera
‚úì M key toggles visibility
‚úì Works in all game scenes (space, station, combat)
```

Output format:
```json
{
  &quot;featureName&quot;: &quot;Minimap System&quot;,
  &quot;userStory&quot;: &quot;As a player, I want to see a minimap so that I can navigate space more easily&quot;,
  &quot;description&quot;: &quot;Detailed explanation of what the feature does&quot;,
  &quot;acceptanceCriteria&quot;: [
    &quot;Minimap displays in top-right corner&quot;,
    &quot;Shows player position as blue triangle&quot;,
    &quot;Updates in real-time during movement&quot;,
    &quot;Toggleable with M key&quot;
  ],
  &quot;scope&quot;: {
    &quot;inScope&quot;: [&quot;Display player position&quot;, &quot;Show nearby ships&quot;, &quot;Toggle visibility&quot;],
    &quot;outOfScope&quot;: [&quot;Zoom controls&quot;, &quot;Detailed terrain&quot;, &quot;Mission markers&quot;]
  },
  &quot;affectedSystems&quot;: [&quot;UI&quot;, &quot;rendering&quot;, &quot;input&quot;],
  &quot;dependencies&quot;: [&quot;Requires ship position tracking&quot;, &quot;Canvas rendering system&quot;],
  &quot;edgeCases&quot;: [
    &quot;What happens when no ships nearby?&quot;,
    &quot;How to handle map boundaries?&quot;,
    &quot;Performance with 100+ ships?&quot;
  ]
}
```

IMPORTANT: End your response with: DECISION: feature_defined

IMPORTANT: End your response with exactly one of these decisions:
- DECISION: feature_defined (Feature clearly defined with acceptance criteria)

Format: End with &quot;DECISION: [YOUR_CHOICE]&quot; on the last line.</pre>
        </div>
      </div>
      

      
      <div class="output-section">
        <div class="section-label">üì§ AGENT OUTPUT <span class="char-count">(8,776 characters)</span></div>
        <button class="collapsible" data-target="output_define_feature_1">Click to expand output from feature_definer</button>
        <div class="collapsible-content" id="output_define_feature_1">
          <pre class="code-content"># Feature Definition: Reset Player State Debug Option

## Feature Specification

```json
{
  &quot;featureName&quot;: &quot;Reset Player State Debug Option&quot;,
  &quot;userStory&quot;: &quot;As a developer/tester, I want to completely reset all player progress from the debug menu so that I can quickly test the new player experience without manually clearing browser data or restarting the game.&quot;,
  &quot;description&quot;: &quot;Add a &#039;Reset Player State&#039; option to the existing debug menu (DebugMenu.js) that completely resets all player progress and state back to starting conditions. This includes clearing all inventory, removing fitted modules, resetting player location to starting position, clearing skill points, resetting currency to starting amount, clearing unlocked items, and removing all localStorage persistence. The feature includes a confirmation dialog to prevent accidental resets and fully reinitializes the player as if starting the game for the first time.&quot;,
  &quot;acceptanceCriteria&quot;: [
    &quot;Debug menu contains a clearly labeled &#039;Reset Player State&#039; or &#039;Start Over&#039; button/option&quot;,
    &quot;Clicking the reset option triggers a confirmation dialog with &#039;Confirm&#039; and &#039;Cancel&#039; buttons&quot;,
    &quot;Confirmation dialog warns user that all progress will be lost&quot;,
    &quot;Clicking &#039;Cancel&#039; closes dialog without changes&quot;,
    &quot;Clicking &#039;Confirm&#039; executes complete state reset&quot;,
    &quot;All ship cargo/inventory is cleared (ResourceManager)&quot;,
    &quot;All fitted modules are removed (ShipFittingManager)&quot;,
    &quot;Player ship position is reset to starting coordinates (NavigationManager)&quot;,
    &quot;All skill points and trained skills are cleared (SkillSystem)&quot;,
    &quot;Player currency/credits reset to starting amount (EconomyManager)&quot;,
    &quot;All unlocked items/blueprints reset to starting set (CraftingManager)&quot;,
    &quot;All localStorage keys related to player state are cleared&quot;,
    &quot;Game state is reinitialized to default starting conditions&quot;,
    &quot;UI updates immediately to reflect reset state (HUD, inventory panels, etc.)&quot;,
    &quot;No errors or console warnings during reset process&quot;,
    &quot;Feature works whether player is in space, at station, or in any game state&quot;
  ],
  &quot;scope&quot;: {
    &quot;inScope&quot;: [
      &quot;Add UI button/option to debug menu&quot;,
      &quot;Create confirmation dialog component&quot;,
      &quot;Reset ship inventory/cargo to empty or starting state&quot;,
      &quot;Reset fitted modules to default ship configuration&quot;,
      &quot;Reset player position to starting location&quot;,
      &quot;Clear skill points and skill training&quot;,
      &quot;Reset currency to starting amount&quot;,
      &quot;Clear unlocked blueprints/items to starting set&quot;,
      &quot;Clear relevant localStorage entries&quot;,
      &quot;Reinitialize all affected game managers&quot;,
      &quot;Update all UI elements to reflect reset state&quot;
    ],
    &quot;outOfScope&quot;: [
      &quot;Resetting game settings/preferences (graphics, controls, audio)&quot;,
      &quot;Clearing browser cache or non-player-state data&quot;,
      &quot;Implementing multiple save slots or profiles&quot;,
      &quot;Undo/redo functionality for resets&quot;,
      &quot;Partial resets (reset only inventory, only skills, etc.)&quot;,
      &quot;Exporting/importing save states&quot;,
      &quot;Cloud save synchronization&quot;,
      &quot;Resetting tutorial/onboarding completion flags (unless explicitly part of player state)&quot;
    ]
  },
  &quot;affectedSystems&quot;: [
    &quot;DebugMenu.js (UI: add reset button)&quot;,
    &quot;ResourceManager.js (reset inventory/cargo)&quot;,
    &quot;EconomyManager.js (reset credits/currency)&quot;,
    &quot;SkillSystem.js (clear skills)&quot;,
    &quot;ShipFittingManager.js (clear fitted modules)&quot;,
    &quot;NavigationManager.js (reset position)&quot;,
    &quot;CraftingManager.js (reset unlocked blueprints)&quot;,
    &quot;StationManager.js (reset station states if applicable)&quot;,
    &quot;localStorage (clear player state keys)&quot;,
    &quot;HUDManager.js (update displays)&quot;,
    &quot;CargoManager.js (refresh cargo UI)&quot;,
    &quot;InventoryUI.js (refresh inventory display)&quot;,
    &quot;ShipFittingUI.js (refresh fitting display)&quot;,
    &quot;SkillUI.js (refresh skill display)&quot;
  ],
  &quot;dependencies&quot;: [
    &quot;Existing DebugMenu.js infrastructure&quot;,
    &quot;UI confirmation dialog system (may need to create if doesn&#039;t exist)&quot;,
    &quot;Access to all game manager instances (ResourceManager, EconomyManager, etc.)&quot;,
    &quot;Knowledge of default starting values for all reset systems&quot;,
    &quot;localStorage API access&quot;,
    &quot;Game state initialization/reinitialization methods in each manager&quot;
  ],
  &quot;edgeCases&quot;: [
    &quot;What if player is mid-warp when reset is triggered?&quot;,
    &quot;What if confirmation dialog is open when game is paused?&quot;,
    &quot;What if some managers haven&#039;t been initialized yet?&quot;,
    &quot;What if localStorage is disabled/blocked by browser?&quot;,
    &quot;What if player has open UI panels (fitting, cargo) during reset?&quot;,
    &quot;What if reset is triggered during combat or active mining?&quot;,
    &quot;What if there are pending asynchronous operations (saves, loads)?&quot;,
    &quot;What if custom/modded ships or items exist that don&#039;t have default states?&quot;,
    &quot;Should the camera reset to default position/angle?&quot;,
    &quot;Should active targeting/navigation be cleared?&quot;
  ],
  &quot;technicalImplementation&quot;: {
    &quot;estimatedFiles&quot;: [
      &quot;js/debug/DebugMenu.js (add reset button + confirmation logic)&quot;,
      &quot;js/systems/ResourceManager.js (add resetPlayerState() method)&quot;,
      &quot;js/systems/EconomyManager.js (add resetPlayerState() method)&quot;,
      &quot;js/skills/SkillSystem.js (add resetPlayerState() method)&quot;,
      &quot;js/systems/ShipFittingManager.js (add resetPlayerState() method)&quot;,
      &quot;js/systems/NavigationManager.js (add resetPlayerPosition() method)&quot;,
      &quot;js/systems/CraftingManager.js (add resetPlayerState() method)&quot;,
      &quot;js/core/SpaceshipSimulator.js (orchestrate full reset if needed)&quot;,
      &quot;css/debug-menu.css (styling for reset button + confirmation dialog)&quot;
    ],
    &quot;estimatedComplexity&quot;: &quot;Medium-High&quot;,
    &quot;estimatedLOC&quot;: &quot;150-250 lines (including confirmation dialog, reset methods, and coordination logic)&quot;,
    &quot;testingApproach&quot;: [
      &quot;Manual test: Verify reset button appears in debug menu&quot;,
      &quot;Manual test: Verify confirmation dialog appears on click&quot;,
      &quot;Manual test: Verify &#039;Cancel&#039; does nothing&quot;,
      &quot;Manual test: Verify &#039;Confirm&#039; clears all state&quot;,
      &quot;Manual test: Verify UI updates correctly after reset&quot;,
      &quot;Manual test: Test reset from different game states (space, station, warp)&quot;,
      &quot;Manual test: Verify localStorage is cleared&quot;,
      &quot;Manual test: Verify no console errors during reset&quot;,
      &quot;Edge case test: Reset during combat/mining/warp&quot;,
      &quot;Edge case test: Reset with UI panels open&quot;,
      &quot;Regression test: Verify debug menu other functions still work&quot;
    ]
  },
  &quot;userFlowDiagram&quot;: {
    &quot;steps&quot;: [
      &quot;1. Player opens debug menu (F1 or debug button)&quot;,
      &quot;2. Player clicks &#039;Reset Player State&#039; button&quot;,
      &quot;3. Confirmation dialog appears: &#039;Are you sure? All progress will be lost. [Cancel] [Confirm]&#039;&quot;,
      &quot;4a. Player clicks [Cancel] ‚Üí Dialog closes, no changes&quot;,
      &quot;4b. Player clicks [Confirm] ‚Üí Reset process begins&quot;,
      &quot;5. Game clears all player state (inventory, skills, currency, position, etc.)&quot;,
      &quot;6. Game reinitializes to starting state&quot;,
      &quot;7. UI updates to reflect reset state&quot;,
      &quot;8. Confirmation dialog closes&quot;,
      &quot;9. Player is now in fresh starting state (default ship, starting location, no skills, starting credits)&quot;
    ]
  },
  &quot;mockup&quot;: {
    &quot;debugMenuButton&quot;: &quot;[Reset Player State] - Red background, warning icon&quot;,
    &quot;confirmationDialog&quot;: {
      &quot;title&quot;: &quot;Reset Player State&quot;,
      &quot;message&quot;: &quot;‚ö†Ô∏è This will completely reset all player progress including inventory, skills, credits, and position. This cannot be undone.&quot;,
      &quot;buttons&quot;: [&quot;Cancel (gray)&quot;, &quot;Confirm Reset (red)&quot;]
    }
  }
}
```

## Implementation Notes

### Default Starting Values (Must Define)
Before implementation, verify/define these default starting values:
- **Starting Credits**: (check EconomyManager for initial value)
- **Starting Ship**: (likely Atron or basic frigate)
- **Starting Position**: (coordinates of starting system/station)
- **Starting Inventory**: (empty or tutorial items?)
- **Starting Modules**: (default ship fitting)
- **Starting Skills**: (none or basic skills?)
- **Starting Blueprints**: (basic blueprints unlocked by default?)

### localStorage Keys to Clear
Identify all localStorage keys used for persistence:
- Player inventory data
- Fitted modules data
- Skill progress data
- Currency/credits data
- Unlocked items/blueprints
- Player position/navigation state
- Any other player-specific state

### Safety Considerations
- Confirmation dialog MUST be impossible to accidentally confirm (no default focus on Confirm button)
- Consider adding a secondary confirmation (type &quot;RESET&quot; to confirm) for extra safety
- Log the reset action to console for debugging
- Consider telemetry/analytics if implemented

DECISION: feature_defined</pre>
        </div>
      </div>
      

      

      
      <div class="routing-info">
        <div class="routing-decision">üîÄ Routing Decision: FEATURE_DEFINED</div>
        <div style="font-size: 0.9em; color: #555; margin-top: 5px;">Decision &quot;FEATURE_DEFINED&quot; matched connection condition</div>
        <div style="margin-top: 10px; font-weight: bold;">‚Üí Next Stage: <strong>plan_tests</strong></div>
      </div>
      
    </div>

    <div class="stage running">
      <div class="stage-header">
        <div>
          <div class="stage-title">Test Planning</div>
          <div style="color: #6c757d; font-size: 0.9em; margin-top: 5px;">Create test plan with expected behaviors BEFORE implementation</div>
        </div>
        <span class="stage-badge badge-running">running</span>
      </div>

      <div class="stage-meta">
        <div class="meta-item">
          <span class="meta-label">Agent:</span>
          <span class="meta-value">test_planner</span>
        </div>
        <div class="meta-item">
          <span class="meta-label">Type:</span>
          <span class="meta-value">planner</span>
        </div>
        <div class="meta-item">
          <span class="meta-label">Duration:</span>
          <span class="meta-value">In progress...</span>
        </div>
        <div class="meta-item">
          <span class="meta-label">Execution #:</span>
          <span class="meta-value">2</span>
        </div>
        
        
      </div>

      

      

      

      
    </div>
    </div>

    
  </div>

  <script>
    // Interactive collapsible sections
    document.addEventListener('DOMContentLoaded', function() {
      const collapsibles = document.querySelectorAll('.collapsible');

      collapsibles.forEach(button => {
        button.addEventListener('click', function() {
          this.classList.toggle('active');
          const targetId = this.getAttribute('data-target');
          const content = document.getElementById(targetId);

          if (content) {
            content.classList.toggle('active');
          }
        });
      });

      // Add "Expand All" / "Collapse All" buttons
      const header = document.querySelector('.header');
      if (header && collapsibles.length > 0) {
        const controlsDiv = document.createElement('div');
        controlsDiv.style.marginTop = '20px';

        const collapseAllBtn = document.createElement('button');
        collapseAllBtn.textContent = 'Collapse All Sections';
        collapseAllBtn.style.cssText = 'padding: 10px 20px; background: #6c757d; color: white; border: none; border-radius: 6px; cursor: pointer; margin-right: 10px; font-weight: bold;';
        collapseAllBtn.addEventListener('click', function() {
          collapsibles.forEach(btn => {
            btn.classList.add('active');
            const targetId = btn.getAttribute('data-target');
            const content = document.getElementById(targetId);
            if (content) content.classList.add('active');
          });
        });

        const expandAllBtn = document.createElement('button');
        expandAllBtn.textContent = 'Expand All Sections';
        expandAllBtn.style.cssText = 'padding: 10px 20px; background: #667eea; color: white; border: none; border-radius: 6px; cursor: pointer; font-weight: bold;';
        expandAllBtn.addEventListener('click', function() {
          collapsibles.forEach(btn => {
            btn.classList.remove('active');
            const targetId = btn.getAttribute('data-target');
            const content = document.getElementById(targetId);
            if (content) content.classList.remove('active');
          });
        });

        controlsDiv.appendChild(collapseAllBtn);
        controlsDiv.appendChild(expandAllBtn);
        header.appendChild(controlsDiv);
      }
    });
  </script>
</body>
</html>