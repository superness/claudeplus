Perfect! Now I have created a comprehensive ship movement bug reproduction script. Let me prepare the output in the required format:

```json
{
  "scriptPath": "/mnt/c/github/superstarships/reproduce_ship_movement_bug.js",
  "scriptContent": "Complete Node.js script with WebSocket server, test sequence, and evidence collection",
  "commandSequence": [
    {"command": "listCommands", "expectedResult": "Verify automation framework is working"},
    {"command": "getShipState", "expectedResult": "Capture initial position, velocity, throttle"},
    {"command": "setThrottle", "params": {"value": 50}, "expectedResult": "Set throttle to 50%"},
    {"command": "wait", "params": {"duration": 1000}, "expectedResult": "Allow throttle to apply"},
    {"command": "getShipState", "expectedResult": "Check if velocity changed after throttle"},
    {"command": "setThrottle", "params": {"value": 0}, "expectedResult": "Reset throttle"},
    {"command": "wait", "params": {"duration": 500}, "expectedResult": "Brief pause"},
    {"command": "setNavigationTarget", "params": {"x": 5000, "y": 0, "z": 5000, "mode": "approach"}, "expectedResult": "Set navigation target 5000m away"},
    {"command": "wait", "params": {"duration": 3000}, "expectedResult": "Allow ship to move toward target"},
    {"command": "getShipState", "expectedResult": "Verify ship moved and has non-zero velocity"},
    {"command": "getSceneInfo", "expectedResult": "Check scene state"},
    {"command": "resetGameState", "params": {"preserveInventory": true}, "expectedResult": "Clean teardown"}
  ],
  "evidenceFiles": ["ship_movement_bug_evidence_[timestamp].json"],
  "expectedOutcome": "Bug reproduced when ship position does not change (distanceMoved < 10m) OR ship velocity remains zero (velMagnitude < 0.1 m/s) after setNavigationTarget command is executed",
  "testingApproach": {
    "phase1": "Test throttle-based movement (direct physics control)",
    "phase2": "Test navigation target movement (input → movement pipeline)",
    "verification": "Compare initial vs final position and check velocity magnitude"
  },
  "diagnosticCapabilities": [
    "Detects if throttle changes affect velocity (physics engine check)",
    "Detects if navigation target sets destination (input processing check)",
    "Measures actual distance moved (rendering/position update check)",
    "Verifies velocity magnitude (physics state check)"
  ]
}
```

## Script Summary

I have created a comprehensive Node.js reproduction script at `/mnt/c/github/superstarships/reproduce_ship_movement_bug.js` that:

### Architecture
1. **WebSocket Server** (port 8765): Acts as bridge between game and test client
2. **Game Connection**: Browser connects with `?testMode=true` parameter
3. **Test Client**: Sends automated commands and receives responses
4. **Evidence Collection**: Captures all commands, responses, and state changes

### Test Sequence (12 Steps)

**Phase 1: Verify Framework**
- List available commands to confirm automation is working

**Phase 2: Test Direct Physics Control (Throttle)**
- Get initial ship state (position, velocity, throttle)
- Set throttle to 50% 
- Wait 1 second
- Check if velocity changed (should accelerate if physics working)
- Reset throttle to 0

**Phase 3: Test Navigation Pipeline (Input → Movement)**
- Set navigation target to (5000, 0, 5000) using `setNavigationTarget` command
- Wait 3 seconds for ship to move
- Get ship state and verify:
  - Position changed from initial (distanceMoved > 10m)
  - Velocity is non-zero (velMagnitude > 0.1 m/s)

**Phase 4: Cleanup**
- Get scene info for context
- Reset game state

### Bug Detection Logic

**BUG REPRODUCED if either:**
1. Ship position unchanged: `distanceMoved < 10m` after setNavigationTarget
2. Ship velocity is zero: `velocityMagnitude < 0.1 m/s` after setNavigationTarget

**Bug NOT reproduced if:**
- Ship moved measurable distance AND has non-zero velocity

### Evidence Saved
- All commands executed with timestamps
- All responses from game
- Initial, intermediate, and final ship states
- Distance moved calculations
- Velocity magnitude calculations
- Bug detection details with expected vs actual behavior

### How to Run
```bash
# Ensure dev server is running
npm run dev

# In separate terminal, run reproduction script
node reproduce_ship_movement_bug.js
```

The script will automatically:
1. Start WebSocket automation server
2. Launch Chrome with game in test mode
3. Execute 12-step test sequence
4. Save evidence JSON file with timestamp
5. Exit with clear verdict: BUG_REPRODUCED or BUG_NOT_REPRODUCED

DECISION: script_ready