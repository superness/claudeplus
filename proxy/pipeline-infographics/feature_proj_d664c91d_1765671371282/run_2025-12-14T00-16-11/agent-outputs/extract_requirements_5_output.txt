Based on my comprehensive review of all design documentation, I can now extract the complete specifications for the enhanced combat visual feedback system:

---

## Feature: Enhanced Combat Visual Feedback System

### Design Documentation Status: FOUND

Searched visual-combat-design.md, combat-design.md, henchmen-heroes-design.md, and player-experience.md. **Comprehensive specifications exist.**

---

### Specifications from Design Docs

#### **Technical/Visual Requirements**

**From visual-combat-design.md (lines 26-42):**

```
TARGET: Guild Wars 1 visual clarity + Warhammer 40K grimdark atmosphere

STYLE APPROACH:
├── Camera: Third-person, ~45-60 degree angle, zoom 10-30 meters
├── Lighting: Dynamic with strong contrast (grimdark feel)
├── Color Palette: Desaturated base with vivid faction accents
├── Model Fidelity: Mid-poly stylized (readable silhouettes)
├── Animation Priority: Readability > Realism
└── Environment: Industrial gothic / alien tech / tribal scrap

KEY VISUAL PILLARS:
1. SILHOUETTE CLARITY - Every class recognizable at any zoom
2. FACTION COLOR CODING - Instant identification
3. SKILL TELEGRAPHING - Know what's coming
4. THREAT HIERARCHY - Color-coded enemy danger
5. FEEDBACK LOOPS - Every action feels impactful
```

**Performance Targets (lines 1337-1360):**
- **Minimum Spec:** 30 FPS normal combat, 500 particle cap
- **Recommended Spec:** 60 FPS normal combat, 2000 particle cap
- **High Spec:** 144 FPS normal combat, 5000 particle cap

---

#### **Skill Visual Effect System**

**Effect Type Categories (lines 128-186):**

1. **IMPACT EFFECTS (Hit confirmation)**
   - Duration: **0.2-0.5 seconds**
   - Scale: **100-300 units**
   - Color: Damage type dependent

2. **PROJECTILE EFFECTS (Traveling attacks)**
   - Speed: **800-1500 units/second**
   - Trail: Damage type color

3. **BEAM EFFECTS (Instant line attacks)**
   - Duration: **0.3-0.8 seconds** (lingering)
   - Width: **50-200 units** based on power

4. **CONE EFFECTS (AoE spray)**
   - Angle: **45-90 degrees**
   - Range: **400-800 units**

5. **EXPLOSION EFFECTS (AoE burst)**
   - Duration: **0.5-1.5 seconds**
   - Radius: Visual matches mechanical radius

6. **AURA EFFECTS (Persistent buffs)**
   - Duration: Matches buff duration
   - Style: Subtle ring/glow (not intrusive)

7. **BUFF/DEBUFF INDICATORS**
   - Icon above affected character
   - Rising particles for buffs (faction color)
   - Falling/dripping particles for debuffs
   - Color: **Green=positive, Red=negative**
   - Duration indicator: Shrinking ring

8. **CHANNELED EFFECTS**
   - Visual intensity ramps up over channel
   - Interruptible - effect cancels on interrupt

---

#### **Damage Type Visual Specifications**

**From visual-combat-design.md (lines 188-287):**

- **Kinetic:** Grey (#808080) + Orange spark (#FFA500), metal spark burst + smoke puff
- **Piercing:** Steel Blue (#4169E1) + Red blood (#8B0000), slash line + blood spray
- **Explosive:** Orange (#FF4500) + Black smoke (#1A1A1A), fireball + expanding ring
- **Thermal:** Fire Orange (#FF6B00) + White heat (#FFFFFF), fire burst + heat shimmer
- **Electric:** Electric Blue (#00BFFF) + White (#FFFFFF), lightning branch burst
- **Warp:** Purple (#9400D3) + Pink energy (#FF69B4), reality distortion ripple
- **Photon:** Cyan (#00CED1) + White (#FFFFFF), clean energy burst
- **WAAAGH!:** Green (#00FF00) + Purple (#9400D3), green lightning + screaming face

---

#### **Floating Combat Text System**

**From visual-combat-design.md (lines 450-524):**

**Damage Numbers:**
- **Positioning:** Spawn above target head (100 units up)
- **Duration:** 1.5 seconds, fade starts at 1.0 seconds
- **Size by Damage:**
  - Low (1-50): **14pt**
  - Medium (51-150): **18pt**
  - High (151-300): **22pt**
  - Massive (300+): **28pt**
  - Critical: **+25% size bonus**

**Colors:**
- Physical damage: **White (#FFFFFF)**
- Energy damage: **Damage type color**
- Critical hit: **Yellow (#FFD700)** + "CRIT!" prefix
- Heal: **Green (#00FF00)**
- Blocked: **"BLOCKED" (grey, shield icon)**
- Dodged: **"DODGE" (white, italic)**
- Missed: **"MISS" (grey, small)**

**Status Text (lines 492-524):**
- **Skill Activation:** "[Skill Name]" (white, center-bottom)
- **On Cooldown:** "RECHARGING" (red, skill bar area)
- **Not Enough Energy:** "NOT ENOUGH ENERGY" (orange)
- **Out of Range:** "OUT OF RANGE" (grey)
- **Invalid Target:** "INVALID TARGET" (red)
- **Interrupted:** "INTERRUPTED!" (red, shake)

---

#### **Buff/Debuff Display**

**From visual-combat-design.md (lines 173-179):**

```
BUFF/DEBUFF INDICATORS
├── Icon above affected character
├── Rising particles for buffs (faction color)
├── Falling/dripping particles for debuffs
├── Color: Green=positive, Red=negative
└── Duration indicator: Shrinking ring
```

**From combat-design.md (lines 177-230) - Complete Condition List:**

**Damaging Conditions:**
- Bleeding (5 stacks max), Burning (3 stacks max), Poison (10 stacks max), Corruption (3 stacks max), Shock (1 stack)

**Control Conditions:**
- Stun, Knockdown, Fear, Slow, Blind, Immobilize, Taunt

**Beneficial Conditions:**
- Regeneration, Protection, Swiftness, Aegis, Fury, Might, Inspired

**Condition Immunity System (lines 212-229):**
- Stun immunity: **8 seconds** after stun ends
- Knockdown immunity: **6 seconds**
- Fear immunity: **10 seconds**
- Taunt immunity: **15 seconds**
- "Recently Inspired" immunity: **30 seconds**

---

#### **Party Frame UI System**

**From visual-combat-design.md (lines 1302-1330):**

```
PARTY FRAME DESIGN

POSITION: Left side

ELEMENTS PER MEMBER:
├── Name: Class color
├── Health Bar: Green, class-colored border
├── Energy Bar: Small, below health
├── Conditions: Important conditions only (3 max)
├── Dead Indicator: Grey + skull icon
└── Range Indicator: Faded if out of range

LAYOUT:
├── Player: Top position (always)
├── Party Members: Below player
├── Henchmen/Heroes: Below party
├── Max Displayed: 7 (4 party + 3 companions)
└── Compact Mode: Toggle for raids

INTERACTION:
├── Left Click: Target
├── Right Click: Context menu
├── Ctrl+Click: Inspect
└── Drag: Reorder (preference saved)
```

**From henchmen-heroes-design.md (lines 31-51) - Party Composition:**

```
Maximum Party Size by Content:
├── Open World: 4 slots (players + henchmen/heroes)
├── Standard Dungeons: 4 slots
├── Raids: 8 slots (players + henchmen/heroes)
├── Tactical Missions: 4 slots
└── PvP: Players only (no henchmen/heroes)
```

---

#### **Energy Bar Display**

**From visual-combat-design.md (lines 1260-1267):**

```
ENERGY BAR:
├── Position: Below skill bar
├── Color: Faction secondary color
├── Segments: Visual tick marks at 25%
├── Regen: Visible fill animation
└── Low Warning: Pulse when <20%
```

**From combat-design.md (lines 63-67) - Energy Values:**

```
Energy = 50 + (Willpower × 0.25)
├── Base regen: 3 per second
├── Modified by class/equipment
└── Range: 50-100 energy pool
```

---

#### **DPS Meter Removal**

**User explicitly requested:** "I need this dps meter to go away"

**Current Implementation (client/src/combat/ProvingGrounds.ts:857-911):**
- DPSMeterUI class exists
- Shows 5s/30s/60s averages
- Fixed position display

**Requirement:** Remove DPS meter entirely from combat UI

---

#### **Skill Bar Display**

**From visual-combat-design.md (lines 1235-1267):**

```
SKILL BAR DESIGN

LAYOUT:
├── Position: Bottom center
├── Slots: 8 regular + 1 elite (rightmost)
├── Size: 64x64 pixels per slot
├── Spacing: 4 pixels between slots
└── Background: Semi-transparent dark

SKILL SLOT STATES:
├── Ready: Full color, bright
├── On Cooldown: Greyed out + clock sweep
├── No Energy: Orange border + pulse
├── Activating: Glowing border (cast time)
├── Queued: Blue border
└── Locked: Red X overlay

COOLDOWN DISPLAY:
├── Visual: Clock sweep (counter-clockwise)
├── Number: Seconds remaining (center)
├── Color: Grey during cooldown
├── Ready Flash: Bright pulse when ready
└── Sound: Optional ready chime
```

---

#### **Enemy Threat Tier Visual System**

**From visual-combat-design.md (lines 560-610):**

```
THREAT TIER VISUAL HIERARCHY

MINORIS (WHITE) - Cannon Fodder
├── Name Plate: White text (#FFFFFF)
├── Health Bar: Thin, grey background
├── HP: 80-150

MAJORIS (BLUE) - Standard Troops
├── Name Plate: Blue text (#00BFFF)
├── Health Bar: Standard thickness
├── HP: 180-350

EXTREMIS (YELLOW) - Elite Enemies
├── Name Plate: Yellow text (#FFD700)
├── Health Bar: Thick, golden border
├── Icon: Star/elite marker
├── HP: 400-800

TERMINUS (PURPLE) - Boss-Class
├── Name Plate: Purple text (#9400D3)
├── Health Bar: Very thick, purple border, segmented phases
├── Icon: Skull marker
├── HP: 2,000-8,000

APEX (GOLD) - World/Raid Bosses
├── Name Plate: Gold text (#FFD700) with glow
├── Health Bar: Massive, multi-segment
├── Icon: Crown/legendary marker
├── HP: 8,000-20,000+
```

---

#### **Referenced Systems to Emulate**

**Guild Wars 1 Philosophy (visual-combat-design.md lines 1539-1562):**

```
READABILITY FIRST:
├── Every attack telegraphed
├── Every effect faction-colored
├── Every threat tier immediately visible
├── Combat log always available
└── No visual clutter obscuring gameplay

SATISFYING FEEDBACK:
├── Every action has response
├── Damage feels impactful
├── Deaths are dramatic (not frustrating)
├── Victories celebrated
└── Progress visible

PERFORMANCE RESPECTED:
├── Effects scale with hardware
├── No mandatory eye candy
├── Gameplay never sacrificed for visuals
├── Options for competitive players
└── Accessibility considered
```

---

### Implementation Checklist

#### **Skill Visual Effects Enhancement**
- [ ] Review and enhance projectile effects (bolter rounds, pulse shots, bullets) - ensure visible projectile travel
- [ ] Review and enhance cone effects (flamers, suppressing fire, etc.) - ensure angle and range are visually clear
- [ ] Review and enhance beam effects (lascannon, arc lightning, markerlight) - ensure line-of-effect is visible
- [ ] Ensure all 8 damage types have distinct color coding as per spec (Kinetic, Piercing, Explosive, Thermal, Electric, Warp, Photon, WAAAGH!)
- [ ] Add particle effects for all buff applications (rising particles, faction-colored)
- [ ] Add particle effects for all debuff applications (falling/dripping particles, red-colored)

#### **Combat Feedback Error Messages**
- [ ] Implement "OUT OF RANGE" visual feedback (grey text, center-bottom screen)
- [ ] Implement "NOT ENOUGH ENERGY" visual feedback (orange text, center-bottom screen)
- [ ] Implement "ON COOLDOWN" / "RECHARGING" visual feedback (red text, skill bar area)
- [ ] Implement "INVALID TARGET" visual feedback (red text)
- [ ] Implement "INTERRUPTED!" visual feedback (red text with shake effect)

#### **Buff/Debuff Status Display**
- [ ] Add buff icons above character heads
- [ ] Add debuff icons above character heads
- [ ] Implement "3 most important conditions" priority system (display max 3)
- [ ] Add duration indicator (shrinking ring around icon)
- [ ] Add rising particles for buffs (green/positive)
- [ ] Add falling particles for debuffs (red/negative)
- [ ] Implement stacking display (show stack count on icon)

#### **Party Frame Buff Display**
- [ ] Add condition display to party frames (3 max per member)
- [ ] Display hero/henchmen buffs/debuffs
- [ ] Add range indicator (fade when out of range)
- [ ] Add dead indicator (grey + skull icon)
- [ ] Implement compact mode toggle for raids (8+ members)
- [ ] Add class color coding to health bar borders
- [ ] Add energy bar below health bar

#### **Energy Bar Feedback**
- [ ] Ensure energy bar is visible below skill bar
- [ ] Add faction-specific coloring (Imperial gold/white, Tau cyan, Ork green)
- [ ] Add visual tick marks at 25% intervals
- [ ] Add visible fill animation for energy regeneration
- [ ] Add low energy warning (pulse when <20%)
- [ ] Add "not enough energy" state indicator on skill bar slots (orange border + pulse)

#### **Skill Bar Enhancement**
- [ ] Ensure cooldown clock sweep is visible
- [ ] Ensure "no energy" state shows orange border + pulse
- [ ] Add ready flash when skill comes off cooldown
- [ ] Verify all 6 slot states are implemented (Ready, Cooldown, No Energy, Activating, Queued, Locked)

#### **DPS Meter Removal**
- [ ] Remove DPSMeterUI class from ProvingGrounds.ts
- [ ] Remove all DPS meter rendering code
- [ ] Remove DPS meter from all combat scenes

#### **Threat Tier Visual Clarity**
- [ ] Verify enemy nameplates use correct color coding (White/Blue/Yellow/Purple/Gold)
- [ ] Verify health bar styling matches threat tier (thickness, border, segments)
- [ ] Add threat tier icons (star for Extremis, skull for Terminus, crown for Apex)

---

### Missing Information (Cannot be derived - NOT in design docs)

1. **Buff/Debuff Priority Algorithm:** Design states "3 most important conditions" but does not define the priority ranking system. **Requires design decision:**
   - Suggested priority: Control conditions (stun/fear) > Damaging conditions (burning/bleeding) > Beneficial buffs > Minor debuffs

2. **Raid Overflow Behavior:** Party frames show "Max Displayed: 7" but raids can have 8 slots. **Requires clarification:**
   - Does compact mode show all 8?
   - Or does the 8th member require scrolling?

3. **Per-Skill VFX Mapping:** Design docs provide VFX *categories* (projectile, cone, beam) and *examples* (Bolter, Pulse Rifle) but do not map every skill in combat-design.md to a specific VFX type. **Requires mapping:**
   - Example: Battle Sister "Holy Strike" - which VFX type? (Likely "impact" based on examples)
   - This mapping should be derived from skill descriptions in combat-design.md

4. **Buff Stacking Visual:** Design states buffs show "stacking" but does not specify how 5 stacks of Bleeding vs 1 stack of Bleeding are visually distinguished. **Requires design decision:**
   - Suggested: Stack count number overlaid on icon (e.g., "5" for 5x Bleeding)

---

DECISION: requirements_extracted