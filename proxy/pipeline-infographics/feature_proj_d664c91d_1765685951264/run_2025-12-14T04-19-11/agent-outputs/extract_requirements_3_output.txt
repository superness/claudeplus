Perfect! Now let me compile the comprehensive requirements document:

## Feature: Character Creation Screen

### Specifications from Design Docs

#### Player Experience Flow (player-experience.md:45-51)
```
00:00-05:00 - Character Creation
├── Select Faction: Imperial (clear 40K aesthetics guide choice)
├── Select Class: Battle Sister (matches her goal)
├── Brief faction lore establishes context
├── Customize appearance
├── EMOTIONAL STATE: Excited, curious
└── FRICTION: None (straightforward, good UI)
```

**Design Emphasis:** This is a **zero-friction experience** that should excite and engage players immediately. It is the **FIRST** player interaction (minute 0:00-05:00).

#### Technical Requirements

**Visual Requirements (visual-combat-design.md:24-43):**
```
OVERALL AESTHETIC
TARGET: Guild Wars 1 visual clarity + Warhammer 40K grimdark atmosphere

STYLE APPROACH:
├── Camera: Third-person, ~45-60 degree angle, zoom 10-30 meters
├── Lighting: Dynamic with strong contrast (grimdark feel)
├── Color Palette: Desaturated base with vivid faction accents
├── Model Fidelity: Mid-poly stylized (readable silhouettes)
├── Animation Priority: Readability > Realism
└── Environment: Industrial gothic / alien tech / tribal scrap

KEY VISUAL PILLARS:
1. SILHOUETTE CLARITY - Every class recognizable at any zoom
2. FACTION COLOR CODING - Instant identification
3. SKILL TELEGRAPHING - Know what's coming
4. THREAT HIERARCHY - Color-coded enemy danger
5. FEEDBACK LOOPS - Every action feels impactful
```

**Perspective:** 3D third-person perspective similar to Guild Wars 1 (visual-combat-design.md:30)

#### Faction System

**Three Factions (player-experience.md:46, data-model.md):**
1. **Imperial** - Imperium of Man
2. **Tau** - T'au Empire  
3. **Ork** - Orks

**Faction Color Schemes (visual-combat-design.md:48-120):**

**IMPERIAL:**
- Primary Colors: Gold (#FFD700), White (#F5F5F5), Crimson (#8B0000), Steel Blue (#4682B4)
- Visual Identity: Holy effects, miracles, divine light, Gothic architecture
- Aesthetic: Rigid, disciplined, holy

**TAU:**
- Primary Colors: Cyan (#00CED1), White (#FFFFFF), Orange (#FF6B00), Dark Blue (#003366)
- Visual Identity: Clean technology, pulse weapons, coordination
- Aesthetic: Smooth, coordinated, efficient

**ORK:**
- Primary Colors: Green (#00FF00), Red (#FF0000), Yellow (#FFFF00), Brown/Rust (#8B4513)
- Visual Identity: WAAAGH! energy, dakka, brutal
- Aesthetic: Chaotic, brutal, enthusiastic

#### Class System

**12 Classes Total - 4 per Faction:**

**IMPERIAL CLASSES:**
1. **Battle Sister** - HYBRID role
2. **Guardsman** - RANGED DPS
3. **Tech-Priest** - SUMMONER/SUPPORT
4. **Crusader** - TANK

**TAU CLASSES:**
1. **Fire Warrior** - RANGED DPS
2. **Pathfinder** - SCOUT/DPS
3. **Crisis Suit** - HEAVY ASSAULT
4. **Water Caste Diplomat** - SUPPORT/BUFFER

**ORK CLASSES:**
1. **Choppa Boy** - MELEE DPS
2. **Shoota Boy** - RANGED DPS (volume fire)
3. **Kommando** - STEALTH/ASSASSIN
4. **Weirdboy** - PSYCHIC CASTER

**Class Silhouettes (visual-combat-design.md:850-946):**
- Each class must be recognizable at 25-40 meters
- Clear visual distinction through armor, weapons, posture
- Faction identity through color and style

#### Appearance Customization

**API Specification (api-specification.md:366-373):**
```json
"appearance": {
  "face_preset": 3,          // Integer - preset face options
  "hair_style": 5,           // Integer - hair style options
  "hair_color": "#8B4513",   // Hex color code
  "skin_tone": 2,            // Integer - skin tone presets
  "scars": ["left_eye", "jaw"],  // Array - scar options
  "augments": ["bionic_eye_left"]  // Array - bionic augments
}
```

**Data Storage (data-model.md:449):**
- Stored in `appearance_data` JSONB field in `characters` table
- Flexible JSON structure allows for expansion

#### Character Naming

**Validation Rules (api-specification.md:407-412):**
- Length: 3-30 characters
- Pattern: Alphanumeric + space/hyphen/apostrophe
- Must start with letter
- No reserved words (admin, gm, moderator, etc.)
- Profanity filter applied
- Must be unique within server

**Validation Pattern (data-model.md:1750-1752):**
```yaml
name:
  min_length: 3
  max_length: 30
  pattern: "^[a-zA-Z][a-zA-Z0-9_'-]*$"
```

#### Backend Integration

**Character Creation Endpoint (api-specification.md:356-419):**

**POST `/api/v1/characters`**

Request:
```json
{
  "character_name": "Brother Titus",
  "faction_code": "IMPERIAL",
  "class_code": "CRUSADER",
  "appearance": {
    "face_preset": 3,
    "hair_style": 5,
    "hair_color": "#8B4513",
    "skin_tone": 2,
    "scars": ["left_eye", "jaw"],
    "augments": ["bionic_eye_left"]
  }
}
```

Response (201 Created):
```json
{
  "character_id": "c3d4e5f6-a7b8-9012-cdef-345678901234",
  "character_name": "Brother Titus",
  "level": 1,
  "class": {
    "code": "CRUSADER",
    "display_name": "Crusader",
    "role": "TANK"
  },
  "faction": {
    "code": "IMPERIAL",
    "display_name": "Imperium of Man"
  },
  "attributes": {
    "strength": 100,
    "ballistics": 100,
    "toughness": 100,
    "willpower": 100,
    "initiative": 100,
    "faction_resource": 100
  },
  "unspent_attribute_points": 0,
  "currency_thrones": 500,
  "starting_zone": "SCHOLA_PROGENIUM",
  "created_at": "2025-12-12T10:30:00Z"
}
```

**Error Responses:**
- `400 INVALID_NAME`: Name validation failed
- `400 INVALID_CLASS_FACTION`: Class/faction mismatch
- `409 NAME_TAKEN`: Character name already exists
- `403 MAX_CHARACTERS_REACHED`: Account at character limit

#### Onboarding Philosophy

**Character Creation Information (progression-design.md:1516-1521):**
```
CHARACTER CREATION IMPROVEMENTS:
├── Character creation shows all 12 classes briefly
├── Level 5 trial selection shows:
│   ├── Top 5 synergy skills with primary class
│   ├── "Commonly paired with" suggestions
│   ├── Brief gameplay preview video (30 sec)
│   └── "Good for: Solo / Group / PvP" tags
```

**Purpose:** Set correct expectations from minute zero (emergence-analysis.md:536)

#### Starting Resources

**Initial Character State (api-specification.md:400-403):**
- Level: 1
- Currency: 500 Thrones
- Attributes: All base 100
- Starting Zone: Faction-specific (e.g., "SCHOLA_PROGENIUM" for Imperial)

### Implementation Checklist

**UI/UX Requirements:**
- [ ] Full-screen character creation interface (not in-game world)
- [ ] Step 1: Faction selection with lore presentation
  - [ ] 3 faction cards with visual distinction (color schemes)
  - [ ] Brief faction lore text (2-3 sentences)
  - [ ] "For the Greater Good" / "For the Emperor" / "WAAAGH!" flavor
- [ ] Step 2: Class selection  
  - [ ] 4 class cards for selected faction
  - [ ] Class role display (Tank/DPS/Support/etc.)
  - [ ] Class description (2-3 sentences)
  - [ ] Visual preview of class silhouette
  - [ ] "Good for: Solo / Group / PvP" tags
- [ ] Step 3: Appearance customization
  - [ ] Face preset selector (multiple options)
  - [ ] Hair style selector
  - [ ] Hair color picker (hex colors)
  - [ ] Skin tone selector (presets)
  - [ ] Scars selection (optional, multi-select)
  - [ ] Augments selection (optional, multi-select, Imperial-appropriate)
  - [ ] Real-time 3D character preview with rotation
- [ ] Step 4: Name selection
  - [ ] Text input with validation feedback
  - [ ] Real-time name availability check
  - [ ] Character validation (3-30 chars, proper pattern)
  - [ ] Clear error messages
- [ ] Review & Confirm screen
  - [ ] Summary of all selections
  - [ ] "Enter the War" / "Create Character" button
  - [ ] Back button to edit choices

**Technical Requirements:**
- [ ] 3D character model rendering (Three.js)
- [ ] Character preview with third-person camera (Guild Wars 1 style)
- [ ] Faction color scheme integration
- [ ] API integration with `/api/v1/characters` POST endpoint
- [ ] Error handling for all API error codes
- [ ] Network manager integration
- [ ] Loading states during character creation
- [ ] Transition to game world on completion

**Visual Requirements:**
- [ ] Guild Wars 1 aesthetic (clarity over spectacle)
- [ ] Faction color coding throughout UI
- [ ] Grimdark atmosphere with Gothic UI elements
- [ ] High-contrast lighting
- [ ] Readable text (Cinzel/Roboto Condensed fonts per index.html)
- [ ] Responsive to different resolutions

**Audio Requirements:**
- [ ] Faction-specific ambient music during creation
- [ ] UI interaction sounds
- [ ] Confirmation sound on character creation
- [ ] Transition audio to game world

**Current Client State:**
- [ ] Replace hardcoded character data in index.html:40-41 ("Brother Titus, Lv. 15 Crusader")
- [ ] Modify main.ts to check for character before starting Game
- [ ] Add character creation flow before game initialization
- [ ] Store character data in client state (NetworkManager)
- [ ] Pass character data to Game on initialization

**Authentication Flow:**
- [ ] User must be authenticated before character creation
- [ ] JWT token from login stored for API calls
- [ ] Character limit check (max 8 characters per account)
- [ ] Account subscription tier check

### Referenced Systems from Other Docs

**Secondary Profession (progression-design.md:1477-1530):**
- Character creation only selects PRIMARY profession
- Secondary profession unlocks at Level 5 with trial period
- NOT part of character creation flow

**Tutorial System (progression-design.md:1427-1473):**
- "Weight of Choice" tutorial quest starts at Level 3
- Build philosophy teaching happens IN-GAME, not during creation
- Character creation should be quick and frictionless

**Starting Zone (data-model.md):**
- Each faction has specific starting zones
- Imperial: "SCHOLA_PROGENIUM"
- Tau: Sept-specific
- Ork: Rok-specific

### What is NOT in Design Docs

The following were NOT found in design docs and should NOT be implemented without further design:
- Exact number of face presets, hair styles, skin tones
- Specific scar options list
- Specific augment options list
- Character creation cinematics
- Voice selection
- Body type customization
- Background/origin story selection
- Starting skill bar configuration (this happens at Level 1 tutorial)

### Integration Points

**Network Manager (client/src/network/NetworkManager.ts):**
- Must add `createCharacter()` method
- POST to `/api/v1/characters` endpoint
- Handle authentication headers (JWT)

**Main Entry (client/src/main.ts):**
- Check if user has selected character
- Show character creation screen if no character selected
- Initialize Game only after character exists

**UI System (client/src/ui/UI.ts):**
- Add CharacterCreationUI component
- Integrate with existing UI framework

DECISION: requirements_extracted