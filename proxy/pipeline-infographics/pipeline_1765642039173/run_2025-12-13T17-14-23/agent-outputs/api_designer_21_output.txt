## Summary

I've created a comprehensive API specification for Cosmic Tic-Tac-Toe at `output/design-docs/api-specification.md`. The document defines:

**System Architecture**: A microservices architecture with 6 distinct services (Auth, Game, Economy, Progression, Cosmetic, Trading) connected through an API Gateway and Redis event bus, with PostgreSQL as the primary database and CDN for assets.

**Authentication**: JWT-based auth with RS256 signing, 1-hour access tokens, 30-day refresh tokens, and permission scopes for different operations.

**Core Endpoints** (40+ endpoints):
- **Auth Service**: Registration, login, token refresh, logout
- **Game Service**: Match creation, move execution, active match tracking, match history, streak status
- **Economy Service**: Wallet queries, transaction history, currency conversion
- **Progression Service**: Level/XP progress, skill tree management, achievement tracking with claim system
- **Cosmetic Service**: Item catalog, inventory, loadout management, daily shop rotation
- **Trading Service**: Player-to-player trades with 10% tax and daily limits

**Real-time Features**: WebSocket API for match updates, achievement unlocks, level-ups, and challenge progress notifications.

**Technical Details**: Error codes, rate limiting (10-120 req/min by category), caching strategy (30s-1hr TTL), expected latencies (<100ms P50), security headers, and API versioning policy.

The API design supports all game systems from the data model including the 6 currencies, 5 AI tiers, skill trees, streak rewards (with Grid Walker+ gating for rare currencies per the balance audit), and the cosmetic progression system.

DECISION: apis_complete