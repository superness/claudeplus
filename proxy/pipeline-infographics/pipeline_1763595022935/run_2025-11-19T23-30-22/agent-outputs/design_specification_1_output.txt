UNDERSTANDING: User wants me to build the wallet_manager agent based on section 2.2 of MINING_CYCLE_AUTOMATION_PLAN.md. The agent already exists at /mnt/c/github/claudeplus/agents/wallet_manager.json and needs to be written to match the requirements specified in the plan document, with specific capabilities for wallet operations using bitcoin-cli, and proper decision outputs (wallet_created, wallet_funded, balance_confirmed, error).

APPROACH: I will analyze section 2.2 of the MINING_CYCLE_AUTOMATION_PLAN.md (lines 235-256) which defines the wallet_manager agent requirements, review the existing wallet_manager.json structure from the SuperCoinServ project for reference, and create a comprehensive agent JSON that follows the claudeplus agent format with proper system prompts, capabilities, tools, and decision-making logic for wallet management operations.

STEPS:
1. Read the existing wallet_manager.json at /mnt/c/github/claudeplus/agents/wallet_manager.json to understand the current structure
2. Review section 2.2 (lines 235-256) of MINING_CYCLE_AUTOMATION_PLAN.md for wallet_manager specifications
3. Examine similar agent files (bitcoin_daemon_manager.json from claudeplus) to understand the claudeplus agent format
4. Design the agent JSON with:
   - agent_name, description, model, systemPrompt
   - Capabilities list matching the requirements (create wallet, generate addresses, fund wallet, query balance, monitor transactions, export/backup)
   - Tools array: ["Bash", "Read", "Write", "Edit", "Glob", "Grep"]
   - Decision points: wallet_created, wallet_funded, balance_confirmed, error
   - Bitcoin-cli command examples and best practices
5. Write the complete agent JSON to /mnt/c/github/claudeplus/agents/wallet_manager.json

TEST_CONSIDERATIONS:
- Agent must handle wallet creation (bitcoin-cli createwallet) with proper error handling for existing wallets
- Address generation (bitcoin-cli getnewaddress) must work for both legacy and bech32 formats
- Wallet funding in regtest mode (bitcoin-cli generatetoaddress) must generate blocks to mature coinbase
- Balance queries (bitcoin-cli getbalance) must distinguish between confirmed and unconfirmed balances
- Transaction monitoring (bitcoin-cli listtransactions) must track incoming mining rewards
- Wallet export/backup (bitcoin-cli backupwallet) must create recoverable backups
- Error scenarios: wallet already exists, insufficient funds, RPC connection failures, invalid addresses
- Must verify RPC credentials and network type (regtest) before operations
- Must handle decision transitions properly (wallet_created → wallet_funded → balance_confirmed or → error)

EVIDENCE:
- Will read existing wallet_manager.json to show current state
- Will reference MINING_CYCLE_AUTOMATION_PLAN.md section 2.2 requirements
- Will create complete agent JSON with all required capabilities
- Will include specific bitcoin-cli commands for each operation
- Will define clear success criteria and decision outputs
- Will show the final written file content

CONFIDENCE: High - The requirements are clearly specified in section 2.2 of the plan document, existing agent examples provide a clear template for structure, and bitcoin-cli wallet operations are well-documented standard commands. The task is straightforward implementation following established patterns.

[DECISION: design_complete]