UNDERSTANDING: User wants me to create a detailed plan for building the share_validator agent based on section 2.3 of MINING_CYCLE_AUTOMATION_PLAN.md. The agent will validate share submissions from miners, monitor acceptance/rejection rates, parse share format, check pool responses, validate difficulty targets, and log rejection reasons.

APPROACH: I will analyze section 2.3 of the MINING_CYCLE_AUTOMATION_PLAN.md document which specifies the share_validator agent requirements, examine existing agent JSON structures from similar agents (share_validator.json, stratum_monitor.json, miner_manager.json, network_monitor.json) to understand the JSON schema and patterns used, then create a comprehensive design specification that includes all required components: agent metadata, system prompt, capabilities, validation criteria, tools, decisions, and configuration.

STEPS:
1) Read and analyze section 2.3 (lines 284-304) of MINING_CYCLE_AUTOMATION_PLAN.md for share_validator specifications
2) Examine the existing share_validator.json at /mnt/c/github/private-SuperCoinServ/build/bin/Debug/config/agents/share_validator.json to understand current implementation
3) Review similar agent structures (stratum_monitor.json, miner_manager.json) to understand JSON schema patterns
4) Design the complete agent JSON structure with:
   - Agent metadata (id, name, role, version, group)
   - Expertise array defining agent capabilities
   - Comprehensive systemPrompt covering:
     * Share submission monitoring mechanisms
     * Share format parsing (nonce, hash, difficulty)
     * Pool response handling (accept/reject)
     * Difficulty target validation algorithms
     * Share acceptance rate tracking and calculations
     * Rejection reason logging and categorization
     * Decision tree for share_accepted, share_rejected, shares_validated, error
     * Integration with pool logs and Stratum protocol
     * Bash commands for log parsing and monitoring
     * Error handling and recovery procedures
   - validationCriteria array defining success metrics
   - requiredTools array (Read, Write, Edit, Bash, Glob, Grep as specified)
   - decisions array (share_accepted, share_rejected, shares_validated, error)
   - configuration object with operational parameters
5) Map out the complete workflow for share validation including:
   - Monitoring share submissions via pool logs
   - Parsing Stratum protocol share messages
   - Extracting nonce, hash, and difficulty values
   - Validating submitted shares against difficulty target
   - Tracking acceptance/rejection responses from pool
   - Calculating acceptance rate metrics
   - Categorizing rejection reasons
   - Generating validation reports
6) Create detailed technical specifications for:
   - Share format parsing (hex encoding, byte order)
   - Difficulty target validation (compact format vs expanded)
   - Pool log monitoring patterns
   - Statistical tracking (acceptance rate thresholds)
   - Error detection and classification

TEST_CONSIDERATIONS:
- Test with valid shares meeting difficulty target (should result in share_accepted)
- Test with invalid shares below difficulty (should result in share_rejected with reason "low difficulty")
- Test with duplicate share submissions (should result in share_rejected with reason "duplicate")
- Test with stale shares from old jobs (should result in share_rejected with reason "stale")
- Test tracking multiple shares to calculate accurate acceptance rate (should result in shares_validated)
- Test with pool server disconnected or unresponsive (should result in error)
- Test with malformed share data (should result in error with diagnostic info)
- Test with no shares submitted after timeout period (should provide appropriate status)
- Test with high rejection rate scenarios (>10%) to validate alerting
- Test parsing different share rejection reasons from pool logs

EVIDENCE:
- Complete share_validator.json file with all required fields
- Detailed systemPrompt documenting share validation algorithms
- Clear decision tree mapping validation outcomes to decision keywords
- Specific Bash commands for log parsing and share monitoring
- Configuration parameters for thresholds (acceptance rate, timeouts)
- Examples of share format parsing for different cryptocurrencies
- Pool log patterns for detecting accept/reject responses
- Validation criteria matching all user requirements
- Integration points with pool_server_manager, miner_manager, and stratum_monitor agents

CONFIDENCE: High - I have clear specifications from section 2.3 of the MINING_CYCLE_AUTOMATION_PLAN.md, existing agent examples showing the JSON structure pattern, detailed requirements from the user, and comprehensive knowledge of mining share validation processes. The design will follow established patterns while meeting all specified requirements for monitoring, parsing, validating, and tracking share submissions.

[DECISION: design_complete]