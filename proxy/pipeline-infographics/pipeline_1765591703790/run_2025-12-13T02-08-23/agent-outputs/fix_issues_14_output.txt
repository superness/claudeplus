## Fixes Applied

### Issue 1: TypeScript export errors in companions/index.ts (14 errors)
- **File**: `client/src/game/companions/index.ts`
- **Fix**: Changed type-only re-exports to use `export type { ... }` instead of `export { ... }` for interfaces and type aliases. This is required when `isolatedModules` is enabled in tsconfig.json.

### Issue 2: Possible undefined access in TacticalMission.ts:327
- **File**: `client/src/game/missions/TacticalMission.ts`
- **Fix**: Added nullish coalescing (`?? 0`) when accessing `currentPhase.objective.target` to handle cases where target might be undefined.

### Issue 3: CombatSystem not connected to Player.useSkill()
- **File**: Created `client/src/combat/CombatManager.ts`
- **Fix**: Created a new CombatManager class that:
  - Connects Player → CombatValidator → CombatSystem → Enemy.takeDamage()
  - Manages skill execution with proper validation
  - Handles skill cooldowns independently
  - Provides combat event callbacks for UI feedback
  - Integrates with EntityManager to get selected targets

### Issue 4: CombatValidator not used for skill validation
- **File**: `client/src/combat/CombatManager.ts`
- **Fix**: CombatManager now uses CombatValidator.validateSkillUse() before executing any skill, checking:
  - Caster state (health, energy, conditions)
  - Skill cooldowns
  - Target requirements (range, line of sight, alive)
  - Status effects that prevent skill use

### Issue 5: Enemy.takeDamage() method missing
- **File**: `client/src/game/entities/Enemy.ts`
- **Fix**: Added `takeDamage(amount, isCritical)` and `heal(amount)` methods to Enemy class for client-side combat processing.

### Integration Changes:
- **File**: `client/src/game/Game.ts` - Added CombatManager instantiation and update loop integration
- **File**: `client/src/game/input/InputManager.ts` - Added executeSkill() method that routes through CombatManager before calling Player.useSkill()

**Build Status**: Both client and server TypeScript builds pass successfully.

DECISION: retry