## Reproduction Script Created: `reproduce_ship_fitting_persistence_bug.js`

I've successfully created a comprehensive automated reproduction script for the ship fitting persistence bug. Here's what it does:

### Test Scenario (10 Steps)

1. **Find nearby station** - Locates a station within 50km
2. **Dock at station** - Required to fit items
3. **Add Miner I modules** - Adds 2x Miner I to inventory
4. **Add Shield Booster** - Adds 1x Small Shield Booster I to inventory
5. **Fit Miner I to high slot 0** - Equips first mining laser
6. **Fit Miner I to high slot 1** - Equips second mining laser
7. **Fit Shield Booster to mid slot 0** - Equips shield module
8. **Verify 3 items fitted** - Confirms all items are equipped
9. **Save game to localStorage** - Manually triggers save system
10. **Verify localStorage contains fitted items** - **THIS IS WHERE BUG IS DETECTED**

### How It Works

The script uses ChromeManager to:
- Launch Chrome with proper WSL paths and cache-disabled flags
- Execute game commands via WebSocket automation
- Read localStorage directly using Chrome DevTools Protocol (CDP)
- Parse the save data to verify if fitted items are serialized
- Collect console logs and evidence

### Bug Detection Logic

The final step reads `localStorage.getItem('superstarships_savegame')` and checks:
- Does `shipFitting` key exist in save data?
- Does `currentFitting` exist within shipFitting?
- Are the fitted items (3 total) present in the saved slots?

**BUG REPRODUCED if:**
- No shipFitting data in localStorage
- No currentFitting in shipFitting data  
- Zero fitted items saved (should be 3)
- Fewer than 3 items saved (partial bug)

**BUG NOT REPRODUCED if:**
- All 3 fitted items are correctly saved to localStorage

### Run the Script

```bash
node reproduce_ship_fitting_persistence_bug.js
```

The script will:
- Launch Chrome and the game
- Execute the test sequence
- Save evidence to `ship_fitting_bug_evidence_<timestamp>.json`
- Include console logs, errors, and localStorage contents
- Exit with clear indication of whether bug was reproduced

DECISION: script_ready