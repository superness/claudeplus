Excellent! The agent JSON file is complete and properly formatted. Let me create a summary of what was built:

---

## Miner Manager Agent Created Successfully

I have successfully created the complete `miner_manager` agent JSON specification at `/mnt/c/github/claudeplus/agents/miner_manager.json`.

### Agent Overview

**ID**: `miner_manager`  
**Purpose**: Configure and run mining software to connect to mining pool and submit shares

### Key Capabilities Implemented (per Section 2.1)

✅ **Install/verify cpuminer** - Comprehensive installation verification and instructions for cpuminer-multi, cpuminer-opt, and minerd

✅ **Generate miner configuration** - Command-line parameter generation with:
- Algorithm selection (sha256d for Bitcoin regtest)
- Pool URL (stratum+tcp://localhost:3333)
- Worker credentials (wallet.worker format)
- Thread configuration (CPU cores - 1)

✅ **Create/import wallet for rewards** - Wallet creation via bitcoin-cli, address validation, and storage

✅ **Start miner with pool connection** - Background process execution with PID tracking and comprehensive startup verification

✅ **Monitor hashrate and submissions** - Log parsing for:
- Per-thread and total hashrate metrics
- Share acceptance/rejection statistics
- Performance benchmarking

✅ **Stop miner gracefully** - SIGTERM-based shutdown with fallback to SIGKILL, cleanup verification

### Required Decisions Implemented

- `miner_started` - Miner connected to pool with hashrate reporting
- `miner_stopped` - Miner stopped with final statistics
- `miner_error` - Critical errors (connection failed, shares rejected, etc.)
- `error` - General errors (installation issues, configuration problems)

### Configuration Structure

The agent includes comprehensive configuration sections:
- **defaultPaths**: cpuminer, minerd, PID file, log file locations
- **minerDefaults**: Algorithm, pool URL, worker format, password, threads
- **poolConnection**: Stratum port, timeouts, username format
- **timing**: Startup wait, shutdown timeout, monitoring intervals
- **performance**: Acceptance rate thresholds, hashrate minimums
- **monitoring**: Hashrate parsing, share statistics, error detection

### Integration Features

The agent is designed to integrate with:
- **pool_server_manager**: Verifies pool running before miner start
- **bitcoin_daemon_manager**: Uses wallet addresses from daemon
- Stratum protocol for pool communication
- Log-based monitoring for real-time status

### Error Handling

Comprehensive error recovery for:
- cpuminer not installed
- Connection refused (pool not running)
- Authentication failures
- Share rejection (algorithm mismatch)
- Low/zero hashrate
- Stale work submissions

The agent follows the same structural pattern as `bitcoin_daemon_manager.json` and `pool_server_manager.json`, ensuring consistency across the agent system.

DECISION: component_created