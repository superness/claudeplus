{
  "id": "pipeline_1763322348804",
  "name": "Development Cycle Meta-Router V1",
  "startTime": "2025-11-16T19:45:48.804Z",
  "stages": [
    {
      "id": "classify_request",
      "name": "Request Classification",
      "type": "classifier",
      "agent": "request_classifier",
      "description": "Classify user request as bug fix, feature request, refactor, or question",
      "decisions": [
        {
          "choice": "BUG_FIX",
          "description": "Request is a bug fix"
        },
        {
          "choice": "QUICK_CHANGE",
          "description": "Request is a simple code modification"
        },
        {
          "choice": "FEATURE_REQUEST",
          "description": "Request is a new feature"
        },
        {
          "choice": "REFACTOR",
          "description": "Request is code refactoring"
        },
        {
          "choice": "QUESTION",
          "description": "Request is a question"
        }
      ]
    },
    {
      "id": "route_to_bug_pipeline",
      "name": "Bug Fix Pipeline",
      "type": "sub_pipeline",
      "agent": "pipeline_executor",
      "description": "Execute bug-fix-v1 pipeline for bug fixes",
      "inputs": [
        "classify_request"
      ],
      "config": {
        "pipeline": "bug-fix-v1",
        "inheritContext": true
      }
    },
    {
      "id": "handle_quick_change",
      "name": "Quick Code Change",
      "type": "executor",
      "agent": "code_implementer",
      "description": "Handle simple, direct code modifications (1-5 lines)",
      "inputs": [
        "classify_request"
      ]
    },
    {
      "id": "route_to_feature_pipeline",
      "name": "Feature Development Pipeline",
      "type": "sub_pipeline",
      "agent": "pipeline_executor",
      "description": "Execute feature-development-v1 pipeline for new features",
      "inputs": [
        "classify_request"
      ],
      "config": {
        "pipeline": "feature-development-v1",
        "inheritContext": true
      }
    },
    {
      "id": "handle_refactor",
      "name": "Handle Refactor Request",
      "type": "executor",
      "agent": "task_executor",
      "description": "Handle code refactoring requests",
      "inputs": [
        "classify_request"
      ]
    },
    {
      "id": "handle_question",
      "name": "Handle Question",
      "type": "executor",
      "agent": "task_executor",
      "description": "Answer user questions about code or system",
      "inputs": [
        "classify_request"
      ]
    }
  ],
  "connections": [
    {
      "from": "classify_request",
      "to": "route_to_bug_pipeline",
      "condition": "BUG_FIX",
      "description": "Bug detected, route to bug-fix pipeline"
    },
    {
      "from": "classify_request",
      "to": "handle_quick_change",
      "condition": "QUICK_CHANGE",
      "description": "Simple change requested, use direct code implementer"
    },
    {
      "from": "classify_request",
      "to": "route_to_feature_pipeline",
      "condition": "FEATURE_REQUEST",
      "description": "Feature requested, route to feature-development pipeline"
    },
    {
      "from": "classify_request",
      "to": "handle_refactor",
      "condition": "REFACTOR",
      "description": "Refactor requested, use general executor"
    },
    {
      "from": "classify_request",
      "to": "handle_question",
      "condition": "QUESTION",
      "description": "Question asked, provide answer"
    },
    {
      "from": "route_to_bug_pipeline",
      "to": null,
      "condition": "complete",
      "description": "Bug fix pipeline complete - PIPELINE ENDS"
    },
    {
      "from": "handle_quick_change",
      "to": null,
      "condition": "complete",
      "description": "Quick change complete - PIPELINE ENDS"
    },
    {
      "from": "route_to_feature_pipeline",
      "to": null,
      "condition": "complete",
      "description": "Feature development pipeline complete - PIPELINE ENDS"
    },
    {
      "from": "handle_refactor",
      "to": null,
      "condition": "complete",
      "description": "Refactor complete - PIPELINE ENDS"
    },
    {
      "from": "handle_question",
      "to": null,
      "condition": "complete",
      "description": "Question answered - PIPELINE ENDS"
    }
  ],
  "userContext": "Bug Report: After the player fits an item to their ship (specifically an afterburner was mentioned), when they undock, the ship experiences a critical navigation failure. The ship flies extremely slowly and won't respond to approach commands - it shows 0% throttle with no navigation functioning. This appears to be a bug introduced or triggered by the ship fitting process. Investigate the ship fitting code, the undocking process, and the navigation/movement system to identify why fitting items breaks ship movement. Find the root cause and fix it so that ships maintain proper navigation capability after fitting items.",
  "workingDir": "/mnt/c/github/superstarships",
  "currentStageIndex": 1,
  "completedStages": [
    "classify_request"
  ],
  "status": "running",
  "results": {
    "classify_request": "```json\n{\n  \"classification\": \"BUG_FIX\",\n  \"confidence\": 0.98,\n  \"reasoning\": \"This is clearly a bug report describing broken functionality. The ship's navigation system fails after fitting items - specifically mentioned are extremely slow movement, unresponsive approach commands, 0% throttle display, and complete navigation failure. The request explicitly uses 'Bug Report' and 'critical navigation failure' indicating something that previously worked is now broken. The user requests investigation and fixing of the root cause.\",\n  \"context\": {\n    \"originalRequest\": \"Bug Report: After the player fits an item to their ship (specifically an afterburner was mentioned), when they undock, the ship experiences a critical navigation failure. The ship flies extremely slowly and won't respond to approach commands - it shows 0% throttle with no navigation functioning. This appears to be a bug introduced or triggered by the ship fitting process. Investigate the ship fitting code, the undocking process, and the navigation/movement system to identify why fitting items breaks ship movement. Find the root cause and fix it so that ships maintain proper navigation capability after fitting items.\",\n    \"keyIndicators\": [\n      \"Bug Report\",\n      \"critical navigation failure\",\n      \"won't respond\",\n      \"not functioning\",\n      \"broken\",\n      \"fix it\"\n    ],\n    \"affectedArea\": \"ship fitting system, undocking process, navigation system, ship movement/physics\",\n    \"priority\": \"high\",\n    \"reproducibility\": \"After fitting afterburner → undock → navigation fails\",\n    \"symptoms\": [\n      \"Extremely slow ship movement\",\n      \"Unresponsive approach commands\",\n      \"0% throttle display\",\n      \"Complete navigation failure\"\n    ],\n    \"suspectedSystems\": [\n      \"ShipFittingManager.js\",\n      \"StationManager.js (undocking)\",\n      \"ShipPhysics.js\",\n      \"NavigationManager.js\"\n    ]\n  }\n}\n```\n\nDECISION: BUG_FIX"
  },
  "currentStage": "Bug Fix Pipeline",
  "pid": 35423
}