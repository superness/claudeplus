{
  "id": "pipeline_1763393404088",
  "name": "Development Cycle Meta-Router V1",
  "startTime": "2025-11-17T15:30:04.088Z",
  "stages": [
    {
      "id": "classify_request",
      "name": "Request Classification",
      "type": "classifier",
      "agent": "request_classifier",
      "description": "Classify user request as bug fix, feature request, refactor, or question",
      "decisions": [
        {
          "choice": "BUG_FIX",
          "description": "Request is a bug fix"
        },
        {
          "choice": "QUICK_CHANGE",
          "description": "Request is a simple code modification"
        },
        {
          "choice": "FEATURE_REQUEST",
          "description": "Request is a new feature"
        },
        {
          "choice": "REFACTOR",
          "description": "Request is code refactoring"
        },
        {
          "choice": "QUESTION",
          "description": "Request is a question"
        }
      ]
    },
    {
      "id": "route_to_bug_pipeline",
      "name": "Bug Fix Pipeline",
      "type": "sub_pipeline",
      "agent": "pipeline_executor",
      "description": "Execute bug-fix-v1 pipeline for bug fixes",
      "inputs": [
        "classify_request"
      ],
      "config": {
        "pipeline": "bug-fix-v1",
        "inheritContext": true
      }
    },
    {
      "id": "handle_quick_change",
      "name": "Quick Code Change",
      "type": "executor",
      "agent": "code_implementer",
      "description": "Handle simple, direct code modifications (1-5 lines)",
      "inputs": [
        "classify_request"
      ]
    },
    {
      "id": "route_to_feature_pipeline",
      "name": "Feature Development Pipeline",
      "type": "sub_pipeline",
      "agent": "pipeline_executor",
      "description": "Execute feature-development-v1 pipeline for new features",
      "inputs": [
        "classify_request"
      ],
      "config": {
        "pipeline": "feature-development-v1",
        "inheritContext": true
      }
    },
    {
      "id": "handle_refactor",
      "name": "Handle Refactor Request",
      "type": "executor",
      "agent": "task_executor",
      "description": "Handle code refactoring requests",
      "inputs": [
        "classify_request"
      ]
    },
    {
      "id": "handle_question",
      "name": "Handle Question",
      "type": "executor",
      "agent": "task_executor",
      "description": "Answer user questions about code or system",
      "inputs": [
        "classify_request"
      ]
    }
  ],
  "connections": [
    {
      "from": "classify_request",
      "to": "route_to_bug_pipeline",
      "condition": "BUG_FIX",
      "description": "Bug detected, route to bug-fix pipeline"
    },
    {
      "from": "classify_request",
      "to": "handle_quick_change",
      "condition": "QUICK_CHANGE",
      "description": "Simple change requested, use direct code implementer"
    },
    {
      "from": "classify_request",
      "to": "route_to_feature_pipeline",
      "condition": "FEATURE_REQUEST",
      "description": "Feature requested, route to feature-development pipeline"
    },
    {
      "from": "classify_request",
      "to": "handle_refactor",
      "condition": "REFACTOR",
      "description": "Refactor requested, use general executor"
    },
    {
      "from": "classify_request",
      "to": "handle_question",
      "condition": "QUESTION",
      "description": "Question asked, provide answer"
    },
    {
      "from": "route_to_bug_pipeline",
      "to": null,
      "condition": "complete",
      "description": "Bug fix pipeline complete - PIPELINE ENDS"
    },
    {
      "from": "handle_quick_change",
      "to": null,
      "condition": "complete",
      "description": "Quick change complete - PIPELINE ENDS"
    },
    {
      "from": "route_to_feature_pipeline",
      "to": null,
      "condition": "complete",
      "description": "Feature development pipeline complete - PIPELINE ENDS"
    },
    {
      "from": "handle_refactor",
      "to": null,
      "condition": "complete",
      "description": "Refactor complete - PIPELINE ENDS"
    },
    {
      "from": "handle_question",
      "to": null,
      "condition": "complete",
      "description": "Question answered - PIPELINE ENDS"
    }
  ],
  "userContext": "BUG FIX REQUIRED: The player ship is not responding to movement controls. The ship has a throttle control that the player can adjust, but changing the throttle value does not affect the ship's speed - the ship remains stationary. Additionally, the ship's orientation does not change when it should. Investigate the ship movement system, identify why throttle changes aren't being applied to ship velocity, diagnose the orientation update issue, implement fixes for both problems, and verify that the ship can now move and rotate properly in response to player input.",
  "workingDir": "/mnt/c/github/superstarships",
  "currentStageIndex": 1,
  "completedStages": [
    "classify_request"
  ],
  "status": "running",
  "results": {
    "classify_request": "I'll analyze this request to classify it properly.\n\n**Analysis:**\n\nThis request contains clear indicators of broken functionality:\n- \"not responding to movement controls\"\n- \"changing the throttle value does not affect the ship's speed\"\n- \"ship remains stationary\"\n- \"orientation does not change when it should\"\n\nThe user is describing systems that should work but don't - classic bug symptoms. The request explicitly starts with \"BUG FIX REQUIRED\" which is a strong signal.\n\n**Key Indicators:**\n- Explicit \"BUG FIX REQUIRED\" in request\n- Multiple \"not responding\", \"does not affect\", \"does not change\" phrases\n- Ship remains stationary when it shouldn't\n- Expected behavior not occurring\n- Request asks to \"investigate\", \"identify why\", \"diagnose\", and \"implement fixes\"\n\n**Classification Decision:**\n\n```json\n{\n  \"classification\": \"BUG_FIX\",\n  \"confidence\": 1.0,\n  \"reasoning\": \"Request explicitly states 'BUG FIX REQUIRED' and describes multiple instances of broken functionality where player controls (throttle adjustment, orientation changes) are not producing expected results (ship movement and rotation). The ship movement system is failing to respond to player input.\",\n  \"context\": {\n    \"originalRequest\": \"BUG FIX REQUIRED: The player ship is not responding to movement controls...\",\n    \"keyIndicators\": [\n      \"BUG FIX REQUIRED\",\n      \"not responding\",\n      \"does not affect\",\n      \"remains stationary\",\n      \"does not change when it should\"\n    ],\n    \"affectedArea\": \"ship movement system, throttle control, ship physics, orientation updates\",\n    \"priority\": \"high\",\n    \"symptoms\": [\n      \"Throttle changes not affecting ship velocity\",\n      \"Ship not moving despite throttle input\",\n      \"Ship orientation not updating\"\n    ],\n    \"investigationNeeded\": [\n      \"Ship movement system\",\n      \"Throttle to velocity mapping\",\n      \"Orientation update mechanism\",\n      \"Input handling pipeline\"\n    ]\n  }\n}\n```\n\nDECISION: BUG_FIX"
  },
  "currentStage": "Bug Fix Pipeline",
  "pid": 179673
}