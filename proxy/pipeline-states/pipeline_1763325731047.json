{
  "id": "pipeline_1763325731047",
  "name": "Development Cycle Meta-Router V1",
  "startTime": "2025-11-16T20:42:11.047Z",
  "stages": [
    {
      "id": "classify_request",
      "name": "Request Classification",
      "type": "classifier",
      "agent": "request_classifier",
      "description": "Classify user request as bug fix, feature request, refactor, or question",
      "decisions": [
        {
          "choice": "BUG_FIX",
          "description": "Request is a bug fix"
        },
        {
          "choice": "QUICK_CHANGE",
          "description": "Request is a simple code modification"
        },
        {
          "choice": "FEATURE_REQUEST",
          "description": "Request is a new feature"
        },
        {
          "choice": "REFACTOR",
          "description": "Request is code refactoring"
        },
        {
          "choice": "QUESTION",
          "description": "Request is a question"
        }
      ]
    },
    {
      "id": "route_to_bug_pipeline",
      "name": "Bug Fix Pipeline",
      "type": "sub_pipeline",
      "agent": "pipeline_executor",
      "description": "Execute bug-fix-v1 pipeline for bug fixes",
      "inputs": [
        "classify_request"
      ],
      "config": {
        "pipeline": "bug-fix-v1",
        "inheritContext": true
      }
    },
    {
      "id": "handle_quick_change",
      "name": "Quick Code Change",
      "type": "executor",
      "agent": "code_implementer",
      "description": "Handle simple, direct code modifications (1-5 lines)",
      "inputs": [
        "classify_request"
      ]
    },
    {
      "id": "route_to_feature_pipeline",
      "name": "Feature Development Pipeline",
      "type": "sub_pipeline",
      "agent": "pipeline_executor",
      "description": "Execute feature-development-v1 pipeline for new features",
      "inputs": [
        "classify_request"
      ],
      "config": {
        "pipeline": "feature-development-v1",
        "inheritContext": true
      }
    },
    {
      "id": "handle_refactor",
      "name": "Handle Refactor Request",
      "type": "executor",
      "agent": "task_executor",
      "description": "Handle code refactoring requests",
      "inputs": [
        "classify_request"
      ]
    },
    {
      "id": "handle_question",
      "name": "Handle Question",
      "type": "executor",
      "agent": "task_executor",
      "description": "Answer user questions about code or system",
      "inputs": [
        "classify_request"
      ]
    }
  ],
  "connections": [
    {
      "from": "classify_request",
      "to": "route_to_bug_pipeline",
      "condition": "BUG_FIX",
      "description": "Bug detected, route to bug-fix pipeline"
    },
    {
      "from": "classify_request",
      "to": "handle_quick_change",
      "condition": "QUICK_CHANGE",
      "description": "Simple change requested, use direct code implementer"
    },
    {
      "from": "classify_request",
      "to": "route_to_feature_pipeline",
      "condition": "FEATURE_REQUEST",
      "description": "Feature requested, route to feature-development pipeline"
    },
    {
      "from": "classify_request",
      "to": "handle_refactor",
      "condition": "REFACTOR",
      "description": "Refactor requested, use general executor"
    },
    {
      "from": "classify_request",
      "to": "handle_question",
      "condition": "QUESTION",
      "description": "Question asked, provide answer"
    },
    {
      "from": "route_to_bug_pipeline",
      "to": null,
      "condition": "complete",
      "description": "Bug fix pipeline complete - PIPELINE ENDS"
    },
    {
      "from": "handle_quick_change",
      "to": null,
      "condition": "complete",
      "description": "Quick change complete - PIPELINE ENDS"
    },
    {
      "from": "route_to_feature_pipeline",
      "to": null,
      "condition": "complete",
      "description": "Feature development pipeline complete - PIPELINE ENDS"
    },
    {
      "from": "handle_refactor",
      "to": null,
      "condition": "complete",
      "description": "Refactor complete - PIPELINE ENDS"
    },
    {
      "from": "handle_question",
      "to": null,
      "condition": "complete",
      "description": "Question answered - PIPELINE ENDS"
    }
  ],
  "userContext": "BUG REPORT: After the player fits an item to their ship (for example, an afterburner) and undocks from the station, the ship becomes completely unresponsive. The player cannot navigate anywhere, cannot generate thrust, clicking on objects does not initiate navigation, and double-clicking has no effect. This is a critical gameplay bug that prevents the player from controlling their ship after fitting items. Investigate the ship fitting system, the undocking process, and the ship control/navigation code to identify why fitting items breaks ship movement and control. Fix the bug and verify that ships can move and navigate properly after fitting items and undocking.",
  "workingDir": "/mnt/c/github/superstarships",
  "currentStageIndex": 1,
  "completedStages": [
    "classify_request"
  ],
  "status": "running",
  "results": {
    "classify_request": "```json\n{\n  \"classification\": \"BUG_FIX\",\n  \"confidence\": 0.99,\n  \"reasoning\": \"This is explicitly labeled as a 'BUG REPORT' and describes broken functionality - ship becomes completely unresponsive after fitting items and undocking. Multiple symptoms indicate a critical malfunction: no navigation, no thrust, no object interaction. The request asks to investigate and fix broken behavior, which is the definition of a bug fix.\",\n  \"context\": {\n    \"originalRequest\": \"BUG REPORT: After the player fits an item to their ship (for example, an afterburner) and undocks from the station, the ship becomes completely unresponsive. The player cannot navigate anywhere, cannot generate thrust, clicking on objects does not initiate navigation, and double-clicking has no effect. This is a critical gameplay bug that prevents the player from controlling their ship after fitting items. Investigate the ship fitting system, the undocking process, and the ship control/navigation code to identify why fitting items breaks ship movement and control. Fix the bug and verify that ships can move and navigate properly after fitting items and undocking.\",\n    \"keyIndicators\": [\n      \"BUG REPORT\",\n      \"unresponsive\",\n      \"cannot navigate\",\n      \"cannot generate thrust\",\n      \"has no effect\",\n      \"breaks ship movement\",\n      \"critical gameplay bug\"\n    ],\n    \"affectedArea\": \"ship fitting system, undocking process, ship control/navigation, input handling\",\n    \"priority\": \"high\",\n    \"reproSteps\": [\n      \"Fit an item to ship (e.g., afterburner)\",\n      \"Undock from station\",\n      \"Attempt to navigate/move ship\",\n      \"Observe: ship is completely unresponsive\"\n    ],\n    \"expectedBehavior\": \"Ship should be fully controllable after fitting items and undocking\",\n    \"actualBehavior\": \"Ship becomes completely unresponsive - no movement, navigation, or control\"\n  }\n}\n```\n\nDECISION: BUG_FIX"
  },
  "currentStage": "Bug Fix Pipeline",
  "pid": 49711
}