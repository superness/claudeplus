{
  "id": "feature_proj_acd5dcef_1765658700025",
  "name": "Game Feature Implementer V2",
  "startTime": "2025-12-13T20:45:00.097Z",
  "stages": [
    {
      "id": "assess_state",
      "name": "Assess Current State",
      "type": "analyzer",
      "agent": "game_state_assessor",
      "description": "Analyzes what exists: design docs, existing code, what's working, what's not.",
      "inputs": []
    },
    {
      "id": "setup_client",
      "name": "Setup Game Client",
      "type": "implementer",
      "agent": "client_scaffolder",
      "description": "Creates Phaser.js game client boilerplate if it doesn't exist.",
      "inputs": [
        "assess_state"
      ]
    },
    {
      "id": "select_feature",
      "name": "Select Next Feature",
      "type": "planner",
      "agent": "feature_selector_v2",
      "description": "Picks ONE feature from the priority list that isn't implemented yet.",
      "inputs": [
        "setup_client"
      ]
    },
    {
      "id": "extract_requirements",
      "name": "Extract Design Requirements",
      "type": "planner",
      "agent": "design_extractor",
      "description": "Reads ALL relevant design docs and extracts SPECIFIC requirements for this feature. Can request design if docs missing.",
      "inputs": [
        "select_feature"
      ]
    },
    {
      "id": "design_feature",
      "name": "Design Missing Feature",
      "type": "planner",
      "agent": "feature_designer",
      "description": "Creates design documentation for a feature that doesn't have specs yet.",
      "inputs": [
        "extract_requirements"
      ]
    },
    {
      "id": "review_plan",
      "name": "Review Implementation Plan",
      "type": "reviewer",
      "agent": "feature_requirements_reviewer",
      "description": "Reviews the extracted requirements. Checks for completeness, identifies gaps, ensures fidelity to original design docs.",
      "inputs": [
        "extract_requirements"
      ]
    },
    {
      "id": "implement_client",
      "name": "Implement Client Feature",
      "type": "implementer",
      "agent": "client_implementer_v2",
      "description": "Implements the feature EXACTLY as specified in the reviewed requirements. No generic placeholders.",
      "inputs": [
        "review_plan"
      ]
    },
    {
      "id": "implement_server",
      "name": "Implement Server Feature",
      "type": "implementer",
      "agent": "server_implementer",
      "description": "Backend code if needed.",
      "inputs": [
        "implement_client"
      ]
    },
    {
      "id": "test_feature",
      "name": "Test Feature",
      "type": "validator",
      "agent": "game_tester",
      "description": "Tests syntax, integration paths, and system connections.",
      "inputs": [
        "implement_server"
      ]
    },
    {
      "id": "integration_test",
      "name": "Play Test Feature",
      "type": "validator",
      "agent": "integration_tester",
      "description": "Runs actual gameplay tests. Can request automation infrastructure if needed.",
      "inputs": [
        "test_feature"
      ]
    },
    {
      "id": "build_automation",
      "name": "Build Test Automation",
      "type": "implementer",
      "agent": "automation_builder",
      "description": "Builds test automation infrastructure on demand - frameworks, hooks, utilities.",
      "inputs": [
        "integration_test"
      ]
    },
    {
      "id": "fix_issues",
      "name": "Fix Issues",
      "type": "implementer",
      "agent": "integration_fixer",
      "description": "Fixes bugs found during testing.",
      "inputs": [
        "test_feature",
        "integration_test"
      ]
    },
    {
      "id": "design_compliance",
      "name": "Check Design Compliance",
      "type": "reviewer",
      "agent": "design_compliance_checker",
      "description": "Compares implementation against original design docs. Rejects if it doesn't match the documented design.",
      "inputs": [
        "fix_issues"
      ]
    },
    {
      "id": "feature_complete",
      "name": "Feature Complete",
      "type": "reviewer",
      "agent": "game_feature_validator",
      "description": "Confirms feature is done. Decides continue or done.",
      "inputs": [
        "design_compliance"
      ]
    }
  ],
  "connections": [
    {
      "from": "assess_state",
      "to": "setup_client",
      "condition": "needs_setup"
    },
    {
      "from": "assess_state",
      "to": "select_feature",
      "condition": "ready_for_features"
    },
    {
      "from": "setup_client",
      "to": "select_feature",
      "condition": "setup_complete"
    },
    {
      "from": "select_feature",
      "to": "extract_requirements",
      "condition": "feature_selected"
    },
    {
      "from": "extract_requirements",
      "to": "review_plan",
      "condition": "requirements_extracted"
    },
    {
      "from": "extract_requirements",
      "to": "design_feature",
      "condition": "needs_design"
    },
    {
      "from": "design_feature",
      "to": "extract_requirements",
      "condition": "design_complete"
    },
    {
      "from": "review_plan",
      "to": "implement_client",
      "condition": "plan_approved"
    },
    {
      "from": "review_plan",
      "to": "extract_requirements",
      "condition": "needs_more_detail"
    },
    {
      "from": "implement_client",
      "to": "implement_server",
      "condition": "needs_backend"
    },
    {
      "from": "implement_client",
      "to": "test_feature",
      "condition": "client_only"
    },
    {
      "from": "implement_server",
      "to": "test_feature",
      "condition": "implementation_complete"
    },
    {
      "from": "test_feature",
      "to": "fix_issues",
      "condition": "has_issues"
    },
    {
      "from": "test_feature",
      "to": "integration_test",
      "condition": "working"
    },
    {
      "from": "integration_test",
      "to": "build_automation",
      "condition": "needs_automation"
    },
    {
      "from": "integration_test",
      "to": "fix_issues",
      "condition": "has_issues"
    },
    {
      "from": "integration_test",
      "to": "design_compliance",
      "condition": "working"
    },
    {
      "from": "build_automation",
      "to": "integration_test",
      "condition": "automation_ready"
    },
    {
      "from": "fix_issues",
      "to": "test_feature",
      "condition": "retry"
    },
    {
      "from": "design_compliance",
      "to": "implement_client",
      "condition": "does_not_match_design"
    },
    {
      "from": "design_compliance",
      "to": "feature_complete",
      "condition": "matches_design"
    },
    {
      "from": "feature_complete",
      "to": "select_feature",
      "condition": "continue"
    },
    {
      "from": "feature_complete",
      "to": "end",
      "condition": "done"
    }
  ],
  "userContext": "When I make a move as red it seems to make A LOT of moves via the AI for both black and red",
  "workingDir": "/mnt/c/github/claudeplus/ai-game-studio/games/0f8e6d4c-df4c-4f79-88b5-450c893da8c7/proj_acd5dcef",
  "currentStageIndex": 0,
  "completedStages": [],
  "status": "running",
  "results": {},
  "currentStage": "Assess Current State",
  "pid": 430627
}