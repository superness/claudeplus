{
  "id": "pipeline_1763390804869",
  "name": "Development Cycle Meta-Router V1",
  "startTime": "2025-11-17T14:46:44.869Z",
  "stages": [
    {
      "id": "classify_request",
      "name": "Request Classification",
      "type": "classifier",
      "agent": "request_classifier",
      "description": "Classify user request as bug fix, feature request, refactor, or question",
      "decisions": [
        {
          "choice": "BUG_FIX",
          "description": "Request is a bug fix"
        },
        {
          "choice": "QUICK_CHANGE",
          "description": "Request is a simple code modification"
        },
        {
          "choice": "FEATURE_REQUEST",
          "description": "Request is a new feature"
        },
        {
          "choice": "REFACTOR",
          "description": "Request is code refactoring"
        },
        {
          "choice": "QUESTION",
          "description": "Request is a question"
        }
      ]
    },
    {
      "id": "route_to_bug_pipeline",
      "name": "Bug Fix Pipeline",
      "type": "sub_pipeline",
      "agent": "pipeline_executor",
      "description": "Execute bug-fix-v1 pipeline for bug fixes",
      "inputs": [
        "classify_request"
      ],
      "config": {
        "pipeline": "bug-fix-v1",
        "inheritContext": true
      }
    },
    {
      "id": "handle_quick_change",
      "name": "Quick Code Change",
      "type": "executor",
      "agent": "code_implementer",
      "description": "Handle simple, direct code modifications (1-5 lines)",
      "inputs": [
        "classify_request"
      ]
    },
    {
      "id": "route_to_feature_pipeline",
      "name": "Feature Development Pipeline",
      "type": "sub_pipeline",
      "agent": "pipeline_executor",
      "description": "Execute feature-development-v1 pipeline for new features",
      "inputs": [
        "classify_request"
      ],
      "config": {
        "pipeline": "feature-development-v1",
        "inheritContext": true
      }
    },
    {
      "id": "handle_refactor",
      "name": "Handle Refactor Request",
      "type": "executor",
      "agent": "task_executor",
      "description": "Handle code refactoring requests",
      "inputs": [
        "classify_request"
      ]
    },
    {
      "id": "handle_question",
      "name": "Handle Question",
      "type": "executor",
      "agent": "task_executor",
      "description": "Answer user questions about code or system",
      "inputs": [
        "classify_request"
      ]
    }
  ],
  "connections": [
    {
      "from": "classify_request",
      "to": "route_to_bug_pipeline",
      "condition": "BUG_FIX",
      "description": "Bug detected, route to bug-fix pipeline"
    },
    {
      "from": "classify_request",
      "to": "handle_quick_change",
      "condition": "QUICK_CHANGE",
      "description": "Simple change requested, use direct code implementer"
    },
    {
      "from": "classify_request",
      "to": "route_to_feature_pipeline",
      "condition": "FEATURE_REQUEST",
      "description": "Feature requested, route to feature-development pipeline"
    },
    {
      "from": "classify_request",
      "to": "handle_refactor",
      "condition": "REFACTOR",
      "description": "Refactor requested, use general executor"
    },
    {
      "from": "classify_request",
      "to": "handle_question",
      "condition": "QUESTION",
      "description": "Question asked, provide answer"
    },
    {
      "from": "route_to_bug_pipeline",
      "to": null,
      "condition": "complete",
      "description": "Bug fix pipeline complete - PIPELINE ENDS"
    },
    {
      "from": "handle_quick_change",
      "to": null,
      "condition": "complete",
      "description": "Quick change complete - PIPELINE ENDS"
    },
    {
      "from": "route_to_feature_pipeline",
      "to": null,
      "condition": "complete",
      "description": "Feature development pipeline complete - PIPELINE ENDS"
    },
    {
      "from": "handle_refactor",
      "to": null,
      "condition": "complete",
      "description": "Refactor complete - PIPELINE ENDS"
    },
    {
      "from": "handle_question",
      "to": null,
      "condition": "complete",
      "description": "Question answered - PIPELINE ENDS"
    }
  ],
  "userContext": "Critical bug: Ship movement is completely non-functional. Navigation commands and tap-to-move inputs are not translating into actual ship movement on screen. The user reports that input events are being received but ships remain stationary. Investigate the entire movement pipeline: 1) Verify input event handlers are firing correctly, 2) Check that movement commands reach the ship entity system, 3) Examine position/velocity update logic, 4) Verify rendering reflects position changes, 5) Look for any errors suppressing movement updates. Fix all issues preventing ship movement and verify ships respond properly to both navigation commands and tap-to-move inputs.",
  "workingDir": "/mnt/c/github/superstarships",
  "currentStageIndex": 1,
  "completedStages": [
    "classify_request"
  ],
  "status": "running",
  "results": {
    "classify_request": "```json\n{\n  \"classification\": \"BUG_FIX\",\n  \"confidence\": 0.99,\n  \"reasoning\": \"This is clearly a bug fix request. The user explicitly states 'Critical bug' and describes non-functional ship movement - a core gameplay feature that is broken. The request describes systematic debugging steps and mentions that inputs are received but not producing expected behavior (ships remain stationary). This is a classic bug scenario where something that should work is not working.\",\n  \"context\": {\n    \"originalRequest\": \"Critical bug: Ship movement is completely non-functional. Navigation commands and tap-to-move inputs are not translating into actual ship movement on screen. The user reports that input events are being received but ships remain stationary. Investigate the entire movement pipeline: 1) Verify input event handlers are firing correctly, 2) Check that movement commands reach the ship entity system, 3) Examine position/velocity update logic, 4) Verify rendering reflects position changes, 5) Look for any errors suppressing movement updates. Fix all issues preventing ship movement and verify ships respond properly to both navigation commands and tap-to-move inputs.\",\n    \"keyIndicators\": [\n      \"Critical bug\",\n      \"completely non-functional\",\n      \"not translating into actual ship movement\",\n      \"ships remain stationary\",\n      \"inputs are being received but\",\n      \"Fix all issues preventing\"\n    ],\n    \"affectedArea\": \"Ship movement pipeline - input handling (InputManager, MobileInputManager), ship physics (ShipPhysics.js), entity system (Ship.js), position updates, rendering (SceneManager.js)\",\n    \"priority\": \"high\",\n    \"technicalScope\": [\n      \"Input event handlers (keyboard, mouse, touch)\",\n      \"Navigation command processing\",\n      \"Ship entity movement logic\",\n      \"Physics integration (EVEPhysics.js, ShipPhysics.js)\",\n      \"Position/velocity updates\",\n      \"Rendering pipeline\"\n    ]\n  }\n}\n```\n\nDECISION: BUG_FIX"
  },
  "currentStage": "Bug Fix Pipeline",
  "pid": 172740
}