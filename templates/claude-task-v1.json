{
  "id": "claude-task-v1",
  "name": "Claude Task Executor V1",
  "description": "Streamlined task execution pipeline - plan, execute, validate. Used as sub-pipeline for chat-based task routing.",
  "version": "1.0.0",
  "category": "task",
  "stages": [
    {
      "id": "task_planning",
      "name": "Task Planning",
      "type": "planner",
      "agent": "task_planner",
      "description": "Create execution plan for the requested task",
      "decisions": [
        {"choice": "PLAN_READY", "description": "Plan is ready for execution"}
      ]
    },
    {
      "id": "task_execution",
      "name": "Task Execution",
      "type": "executor",
      "agent": "task_executor",
      "description": "Execute the planned task using available tools",
      "inputs": ["task_planning"],
      "decisions": [
        {"choice": "EXECUTION_COMPLETE", "description": "Task execution finished"}
      ]
    },
    {
      "id": "task_validation",
      "name": "Task Validation",
      "type": "validator",
      "agent": "proof_validator",
      "description": "Validate that the task was completed correctly",
      "inputs": ["task_planning", "task_execution"],
      "decisions": [
        {"choice": "VALIDATED", "description": "Task completed successfully"},
        {"choice": "NEEDS_RETRY", "description": "Issues found, retry execution"}
      ]
    }
  ],
  "flow": {
    "type": "conditional",
    "description": "Plan -> Execute -> Validate with retry loop",
    "connections": [
      {
        "from": "task_planning",
        "to": "task_execution",
        "condition": "PLAN_READY",
        "description": "Plan complete, begin execution"
      },
      {
        "from": "task_execution",
        "to": "task_validation",
        "condition": "EXECUTION_COMPLETE",
        "description": "Execution done, validate results"
      },
      {
        "from": "task_validation",
        "to": null,
        "condition": "VALIDATED",
        "description": "Task validated successfully - SUB-PIPELINE ENDS"
      },
      {
        "from": "task_validation",
        "to": "task_execution",
        "condition": "NEEDS_RETRY",
        "description": "Validation failed, retry execution"
      }
    ]
  },
  "metadata": {
    "tags": ["task-execution", "sub-pipeline", "chat-integration"],
    "author": "Claude Plus Development System",
    "purpose": "Sub-pipeline for chat-based task routing"
  }
}
