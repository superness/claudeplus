{
  "id": "business-plan-elaborator-v1",
  "name": "Business Plan Elaborator Pipeline V1",
  "description": "Comprehensive business plan elaboration pipeline that reads a thesis document and generates complete business documentation from all perspectives (market, financial, technical, operations, legal) with iterative review cycles",
  "version": "1.0.0",
  "category": "business-planning",
  "stages": [
    {
      "id": "setup_directories",
      "name": "Setup Document Directories",
      "type": "executor",
      "agent": "document_directory_setup",
      "description": "Create the required directory structure for business plan documents",
      "decisions": [
        {"choice": "directories_created", "description": "All directories created successfully"}
      ]
    },
    {
      "id": "analyze_thesis",
      "name": "Analyze Thesis Document",
      "type": "analyzer",
      "agent": "thesis_reader",
      "description": "Read and analyze the input thesis document to extract key business concepts",
      "inputs": ["setup_directories"],
      "decisions": [
        {"choice": "thesis_analyzed", "description": "Thesis document analyzed and concepts extracted"}
      ]
    },
    {
      "id": "market_analysis",
      "name": "Market Analysis",
      "type": "analyzer",
      "agent": "market_analyst",
      "description": "Create comprehensive market analysis including sizing, trends, and segmentation",
      "inputs": ["analyze_thesis", "review_market", "cross_validate"],
      "decisions": [
        {"choice": "market_analysis_complete", "description": "Market analysis document created"}
      ]
    },
    {
      "id": "customer_personas",
      "name": "Customer Persona Development",
      "type": "analyzer",
      "agent": "customer_persona_builder",
      "description": "Develop detailed customer personas with journey mapping",
      "inputs": ["market_analysis"],
      "decisions": [
        {"choice": "personas_complete", "description": "Customer personas created"}
      ]
    },
    {
      "id": "competitive_analysis",
      "name": "Competitive Intelligence",
      "type": "analyzer",
      "agent": "competitive_intelligence",
      "description": "Deep-dive competitive analysis with feature comparisons",
      "inputs": ["market_analysis", "customer_personas"],
      "decisions": [
        {"choice": "competitive_analysis_complete", "description": "Competitive analysis document created"}
      ]
    },
    {
      "id": "review_market",
      "name": "Market Analysis Review",
      "type": "validator",
      "agent": "market_reviewer",
      "description": "Review all market analysis documents for completeness and quality",
      "inputs": ["market_analysis", "customer_personas", "competitive_analysis"],
      "decisions": [
        {"choice": "approved", "description": "Market analysis approved, proceed to financial phase"},
        {"choice": "needs_revision", "description": "Market analysis needs revision, loop back"}
      ]
    },
    {
      "id": "revenue_model",
      "name": "Revenue Modeling",
      "type": "analyzer",
      "agent": "revenue_modeler",
      "description": "Create detailed revenue model with pricing strategy and projections",
      "inputs": ["review_market", "review_financial", "cross_validate"],
      "decisions": [
        {"choice": "revenue_model_complete", "description": "Revenue model document created"}
      ]
    },
    {
      "id": "cost_structure",
      "name": "Cost Structure Analysis",
      "type": "analyzer",
      "agent": "cost_structure_analyst",
      "description": "Analyze cost structure, operating expenses, and burn rate",
      "inputs": ["revenue_model"],
      "decisions": [
        {"choice": "cost_structure_complete", "description": "Cost structure document created"}
      ]
    },
    {
      "id": "funding_strategy",
      "name": "Funding Strategy",
      "type": "analyzer",
      "agent": "funding_strategist",
      "description": "Develop funding strategy, use of funds, and cap table projections",
      "inputs": ["revenue_model", "cost_structure"],
      "decisions": [
        {"choice": "funding_strategy_complete", "description": "Funding strategy document created"}
      ]
    },
    {
      "id": "review_financial",
      "name": "Financial Analysis Review",
      "type": "validator",
      "agent": "financial_reviewer",
      "description": "Review all financial documents for accuracy and investor-readiness",
      "inputs": ["revenue_model", "cost_structure", "funding_strategy"],
      "decisions": [
        {"choice": "approved", "description": "Financial analysis approved, proceed to technical phase"},
        {"choice": "needs_revision", "description": "Financial analysis needs revision, loop back"}
      ]
    },
    {
      "id": "technical_architecture",
      "name": "Technical Architecture",
      "type": "analyzer",
      "agent": "technical_architect_bp",
      "description": "Create technical architecture and technology strategy documentation",
      "inputs": ["review_financial", "analyze_thesis", "review_technical", "cross_validate"],
      "decisions": [
        {"choice": "technical_architecture_complete", "description": "Technical architecture document created"}
      ]
    },
    {
      "id": "product_roadmap",
      "name": "Product Roadmap",
      "type": "planner",
      "agent": "product_roadmap_builder",
      "description": "Create detailed product roadmap with feature prioritization",
      "inputs": ["technical_architecture", "review_market"],
      "decisions": [
        {"choice": "roadmap_complete", "description": "Product roadmap document created"}
      ]
    },
    {
      "id": "technical_feasibility",
      "name": "Technical Feasibility Assessment",
      "type": "analyzer",
      "agent": "technical_feasibility_analyst",
      "description": "Assess technical feasibility and validate assumptions",
      "inputs": ["technical_architecture", "product_roadmap"],
      "decisions": [
        {"choice": "feasibility_analysis_complete", "description": "Technical feasibility document created"}
      ]
    },
    {
      "id": "review_technical",
      "name": "Technical Documentation Review",
      "type": "validator",
      "agent": "technical_reviewer",
      "description": "Review all technical documents for soundness and alignment",
      "inputs": ["technical_architecture", "product_roadmap", "technical_feasibility"],
      "decisions": [
        {"choice": "approved", "description": "Technical documentation approved, proceed to operations phase"},
        {"choice": "needs_revision", "description": "Technical documentation needs revision, loop back"}
      ]
    },
    {
      "id": "operations_plan",
      "name": "Operations Planning",
      "type": "planner",
      "agent": "operations_planner",
      "description": "Create operational plan including processes and resources",
      "inputs": ["review_technical", "review_financial", "review_operations", "cross_validate"],
      "decisions": [
        {"choice": "operations_plan_complete", "description": "Operations plan document created"}
      ]
    },
    {
      "id": "gtm_strategy",
      "name": "Go-to-Market Strategy",
      "type": "planner",
      "agent": "gtm_strategist",
      "description": "Create go-to-market strategy including launch plans",
      "inputs": ["operations_plan", "review_market", "product_roadmap"],
      "decisions": [
        {"choice": "gtm_strategy_complete", "description": "GTM strategy document created"}
      ]
    },
    {
      "id": "team_culture_plan",
      "name": "Team & Culture Planning",
      "type": "planner",
      "agent": "team_planner",
      "description": "Plan team composition, hiring strategy, and culture",
      "inputs": ["operations_plan"],
      "decisions": [
        {"choice": "team_plan_complete", "description": "Team and culture plan document created"}
      ]
    },
    {
      "id": "review_operations",
      "name": "Operations Documentation Review",
      "type": "validator",
      "agent": "operations_reviewer",
      "description": "Review all operations documents for feasibility and alignment",
      "inputs": ["operations_plan", "gtm_strategy", "team_culture_plan"],
      "decisions": [
        {"choice": "approved", "description": "Operations documentation approved, proceed to legal phase"},
        {"choice": "needs_revision", "description": "Operations documentation needs revision, loop back"}
      ]
    },
    {
      "id": "legal_compliance",
      "name": "Legal & Compliance Analysis",
      "type": "analyzer",
      "agent": "legal_compliance_analyst",
      "description": "Analyze legal requirements and compliance obligations",
      "inputs": ["review_operations", "analyze_thesis", "review_legal", "cross_validate"],
      "decisions": [
        {"choice": "legal_analysis_complete", "description": "Legal compliance document created"}
      ]
    },
    {
      "id": "risk_analysis",
      "name": "Comprehensive Risk Analysis",
      "type": "analyzer",
      "agent": "risk_analyst",
      "description": "Identify and analyze all business risks across domains",
      "inputs": ["legal_compliance", "review_market", "review_financial", "review_technical", "review_operations"],
      "decisions": [
        {"choice": "risk_analysis_complete", "description": "Risk analysis document created"}
      ]
    },
    {
      "id": "review_legal",
      "name": "Legal & Risk Documentation Review",
      "type": "validator",
      "agent": "legal_reviewer",
      "description": "Review legal and risk documents for completeness",
      "inputs": ["legal_compliance", "risk_analysis"],
      "decisions": [
        {"choice": "approved", "description": "Legal/risk documentation approved, proceed to synthesis"},
        {"choice": "needs_revision", "description": "Legal/risk documentation needs revision, loop back"}
      ]
    },
    {
      "id": "cross_validate",
      "name": "Cross-Perspective Validation",
      "type": "validator",
      "agent": "cross_perspective_validator",
      "description": "Validate consistency across all business plan sections",
      "inputs": ["review_market", "review_financial", "review_technical", "review_operations", "review_legal"],
      "decisions": [
        {"choice": "aligned", "description": "All perspectives are consistent, proceed to synthesis"},
        {"choice": "conflict_found_market", "description": "Conflicts found in market section, revise"},
        {"choice": "conflict_found_financial", "description": "Conflicts found in financial section, revise"},
        {"choice": "conflict_found_technical", "description": "Conflicts found in technical section, revise"},
        {"choice": "conflict_found_operations", "description": "Conflicts found in operations section, revise"},
        {"choice": "conflict_found_legal", "description": "Conflicts found in legal section, revise"}
      ]
    },
    {
      "id": "generate_timelines",
      "name": "Timeline & Roadmap Generation",
      "type": "synthesizer",
      "agent": "timeline_generator",
      "description": "Synthesize all timelines into unified Gantt chart and roadmap",
      "inputs": ["cross_validate"],
      "decisions": [
        {"choice": "timelines_complete", "description": "Timeline documents created"}
      ]
    },
    {
      "id": "write_executive_summary",
      "name": "Executive Summary",
      "type": "synthesizer",
      "agent": "executive_summary_writer",
      "description": "Synthesize all sections into compelling executive summary",
      "inputs": ["generate_timelines"],
      "decisions": [
        {"choice": "executive_summary_complete", "description": "Executive summary created"}
      ]
    },
    {
      "id": "assemble_final_plan",
      "name": "Final Business Plan Assembly",
      "type": "synthesizer",
      "agent": "final_business_plan_assembler",
      "description": "Assemble all sections into cohesive final business plan",
      "inputs": ["write_executive_summary"],
      "decisions": [
        {"choice": "business_plan_complete", "description": "Complete business plan assembled"}
      ]
    }
  ],
  "flow": {
    "type": "conditional",
    "description": "Business plan elaboration with iterative review cycles and cross-perspective validation",
    "connections": [
      {
        "from": "setup_directories",
        "to": "analyze_thesis",
        "condition": "directories_created",
        "description": "Directories ready, analyze thesis"
      },
      {
        "from": "analyze_thesis",
        "to": "market_analysis",
        "condition": "thesis_analyzed",
        "description": "Thesis analyzed, begin market analysis phase"
      },
      {
        "from": "market_analysis",
        "to": "customer_personas",
        "condition": "market_analysis_complete",
        "description": "Market analyzed, create customer personas"
      },
      {
        "from": "customer_personas",
        "to": "competitive_analysis",
        "condition": "personas_complete",
        "description": "Personas created, analyze competition"
      },
      {
        "from": "competitive_analysis",
        "to": "review_market",
        "condition": "competitive_analysis_complete",
        "description": "Competition analyzed, review market phase"
      },
      {
        "from": "review_market",
        "to": "revenue_model",
        "condition": "approved",
        "description": "Market phase approved, begin financial phase"
      },
      {
        "from": "review_market",
        "to": "market_analysis",
        "condition": "needs_revision",
        "description": "Market phase needs revision, loop back to market analysis"
      },
      {
        "from": "revenue_model",
        "to": "cost_structure",
        "condition": "revenue_model_complete",
        "description": "Revenue modeled, analyze cost structure"
      },
      {
        "from": "cost_structure",
        "to": "funding_strategy",
        "condition": "cost_structure_complete",
        "description": "Costs analyzed, develop funding strategy"
      },
      {
        "from": "funding_strategy",
        "to": "review_financial",
        "condition": "funding_strategy_complete",
        "description": "Funding strategy complete, review financial phase"
      },
      {
        "from": "review_financial",
        "to": "technical_architecture",
        "condition": "approved",
        "description": "Financial phase approved, begin technical phase"
      },
      {
        "from": "review_financial",
        "to": "revenue_model",
        "condition": "needs_revision",
        "description": "Financial phase needs revision, loop back to revenue model"
      },
      {
        "from": "technical_architecture",
        "to": "product_roadmap",
        "condition": "technical_architecture_complete",
        "description": "Architecture defined, create product roadmap"
      },
      {
        "from": "product_roadmap",
        "to": "technical_feasibility",
        "condition": "roadmap_complete",
        "description": "Roadmap created, assess feasibility"
      },
      {
        "from": "technical_feasibility",
        "to": "review_technical",
        "condition": "feasibility_analysis_complete",
        "description": "Feasibility assessed, review technical phase"
      },
      {
        "from": "review_technical",
        "to": "operations_plan",
        "condition": "approved",
        "description": "Technical phase approved, begin operations phase"
      },
      {
        "from": "review_technical",
        "to": "technical_architecture",
        "condition": "needs_revision",
        "description": "Technical phase needs revision, loop back to architecture"
      },
      {
        "from": "operations_plan",
        "to": "gtm_strategy",
        "condition": "operations_plan_complete",
        "description": "Operations planned, create GTM strategy"
      },
      {
        "from": "gtm_strategy",
        "to": "team_culture_plan",
        "condition": "gtm_strategy_complete",
        "description": "GTM strategy complete, plan team and culture"
      },
      {
        "from": "team_culture_plan",
        "to": "review_operations",
        "condition": "team_plan_complete",
        "description": "Team planned, review operations phase"
      },
      {
        "from": "review_operations",
        "to": "legal_compliance",
        "condition": "approved",
        "description": "Operations phase approved, begin legal phase"
      },
      {
        "from": "review_operations",
        "to": "operations_plan",
        "condition": "needs_revision",
        "description": "Operations phase needs revision, loop back to operations plan"
      },
      {
        "from": "legal_compliance",
        "to": "risk_analysis",
        "condition": "legal_analysis_complete",
        "description": "Legal analyzed, perform risk analysis"
      },
      {
        "from": "risk_analysis",
        "to": "review_legal",
        "condition": "risk_analysis_complete",
        "description": "Risks analyzed, review legal phase"
      },
      {
        "from": "review_legal",
        "to": "cross_validate",
        "condition": "approved",
        "description": "Legal phase approved, cross-validate all perspectives"
      },
      {
        "from": "review_legal",
        "to": "legal_compliance",
        "condition": "needs_revision",
        "description": "Legal phase needs revision, loop back to legal compliance"
      },
      {
        "from": "cross_validate",
        "to": "generate_timelines",
        "condition": "aligned",
        "description": "All perspectives aligned, generate timelines"
      },
      {
        "from": "cross_validate",
        "to": "market_analysis",
        "condition": "conflict_found_market",
        "description": "Market conflicts found, revise market section"
      },
      {
        "from": "cross_validate",
        "to": "revenue_model",
        "condition": "conflict_found_financial",
        "description": "Financial conflicts found, revise financial section"
      },
      {
        "from": "cross_validate",
        "to": "technical_architecture",
        "condition": "conflict_found_technical",
        "description": "Technical conflicts found, revise technical section"
      },
      {
        "from": "cross_validate",
        "to": "operations_plan",
        "condition": "conflict_found_operations",
        "description": "Operations conflicts found, revise operations section"
      },
      {
        "from": "cross_validate",
        "to": "legal_compliance",
        "condition": "conflict_found_legal",
        "description": "Legal conflicts found, revise legal section"
      },
      {
        "from": "generate_timelines",
        "to": "write_executive_summary",
        "condition": "timelines_complete",
        "description": "Timelines generated, write executive summary"
      },
      {
        "from": "write_executive_summary",
        "to": "assemble_final_plan",
        "condition": "executive_summary_complete",
        "description": "Executive summary complete, assemble final plan"
      },
      {
        "from": "assemble_final_plan",
        "to": null,
        "condition": "business_plan_complete",
        "description": "Business plan complete - PIPELINE ENDS"
      }
    ]
  },
  "metadata": {
    "tags": ["business-planning", "documentation", "thesis-elaboration", "multi-perspective"],
    "author": "Claude Plus Business Planning System",
    "usesWindowsCommands": false,
    "requiresBrowser": false,
    "methodology": "Multi-perspective business plan elaboration with iterative review cycles",
    "expectedOutputs": [
      "business-plan/00-thesis-analysis.md",
      "business-plan/01-executive-summary.md",
      "business-plan/00-complete-business-plan.md",
      "business-plan/market/01-market-analysis.md",
      "business-plan/market/02-customer-personas.md",
      "business-plan/market/03-competitive-analysis.md",
      "business-plan/financial/01-revenue-model.md",
      "business-plan/financial/02-cost-structure.md",
      "business-plan/financial/03-funding-strategy.md",
      "business-plan/technical/01-technical-architecture.md",
      "business-plan/technical/02-product-roadmap.md",
      "business-plan/technical/03-technical-feasibility.md",
      "business-plan/operations/01-operations-plan.md",
      "business-plan/operations/02-gtm-strategy.md",
      "business-plan/operations/03-team-culture-plan.md",
      "business-plan/legal/01-legal-compliance.md",
      "business-plan/legal/02-risk-analysis.md",
      "business-plan/timelines/gantt-chart.md",
      "business-plan/timelines/quarterly-roadmap.md"
    ],
    "phases": [
      {
        "name": "Phase 1: Initialization",
        "stages": ["setup_directories", "analyze_thesis"],
        "description": "Setup and thesis analysis"
      },
      {
        "name": "Phase 2: Market Analysis",
        "stages": ["market_analysis", "customer_personas", "competitive_analysis", "review_market"],
        "description": "Comprehensive market perspective with review loop"
      },
      {
        "name": "Phase 3: Financial Analysis",
        "stages": ["revenue_model", "cost_structure", "funding_strategy", "review_financial"],
        "description": "Complete financial perspective with review loop"
      },
      {
        "name": "Phase 4: Technical Analysis",
        "stages": ["technical_architecture", "product_roadmap", "technical_feasibility", "review_technical"],
        "description": "Technical perspective with review loop"
      },
      {
        "name": "Phase 5: Operations",
        "stages": ["operations_plan", "gtm_strategy", "team_culture_plan", "review_operations"],
        "description": "Operations perspective with review loop"
      },
      {
        "name": "Phase 6: Legal & Risk",
        "stages": ["legal_compliance", "risk_analysis", "review_legal"],
        "description": "Legal and risk perspective with review loop"
      },
      {
        "name": "Phase 7: Synthesis",
        "stages": ["cross_validate", "generate_timelines", "write_executive_summary", "assemble_final_plan"],
        "description": "Cross-validation and final assembly"
      }
    ],
    "reviewLoops": [
      {
        "reviewer": "review_market",
        "loopsBackTo": "market_analysis",
        "condition": "needs_revision"
      },
      {
        "reviewer": "review_financial",
        "loopsBackTo": "revenue_model",
        "condition": "needs_revision"
      },
      {
        "reviewer": "review_technical",
        "loopsBackTo": "technical_architecture",
        "condition": "needs_revision"
      },
      {
        "reviewer": "review_operations",
        "loopsBackTo": "operations_plan",
        "condition": "needs_revision"
      },
      {
        "reviewer": "review_legal",
        "loopsBackTo": "legal_compliance",
        "condition": "needs_revision"
      },
      {
        "reviewer": "cross_validate",
        "loopsBackTo": ["market_analysis", "revenue_model", "technical_architecture", "operations_plan", "legal_compliance"],
        "condition": "conflict_found_*"
      }
    ]
  }
}
