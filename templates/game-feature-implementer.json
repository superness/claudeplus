{
  "id": "game-feature-implementer",
  "name": "Game Feature Implementer",
  "description": "Incrementally builds playable game features from design docs. Uses Phaser.js for web-based game client. Implements one feature at a time, tests it works, then moves on.",
  "version": "1.0.0",
  "category": "game-development",
  "stages": [
    {
      "id": "assess_state",
      "name": "Assess Current State",
      "type": "analyzer",
      "agent": "game_state_assessor",
      "description": "Analyzes what exists: design docs, existing code, what's working, what's not. Determines if client needs setup or if we can add features.",
      "inputs": []
    },
    {
      "id": "setup_client",
      "name": "Setup Game Client",
      "type": "implementer",
      "agent": "client_scaffolder",
      "description": "Creates Phaser.js game client boilerplate if it doesn't exist. Sets up HTML, game loop, basic rendering.",
      "inputs": ["assess_state"]
    },
    {
      "id": "select_feature",
      "name": "Select Next Feature",
      "type": "planner",
      "agent": "feature_selector",
      "description": "Reads design docs and picks ONE small, implementable feature. Prioritizes core gameplay first (movement, combat basics) before complex systems.",
      "inputs": ["setup_client"]
    },
    {
      "id": "implement_client",
      "name": "Implement Client Feature",
      "type": "implementer",
      "agent": "client_implementer",
      "description": "Writes actual Phaser.js code for the selected feature. Creates sprites, handles input, implements game logic. Real working code, not scaffolding.",
      "inputs": ["select_feature"]
    },
    {
      "id": "implement_server",
      "name": "Implement Server Feature",
      "type": "implementer",
      "agent": "server_implementer",
      "description": "Writes backend code if the feature requires it. Updates Express routes, database queries, game logic. Skips if feature is client-only.",
      "inputs": ["implement_client"]
    },
    {
      "id": "test_feature",
      "name": "Test Feature",
      "type": "validator",
      "agent": "game_tester",
      "description": "Runs the game and tests the feature works. Checks for errors, validates behavior matches design intent.",
      "inputs": ["implement_server"]
    },
    {
      "id": "fix_issues",
      "name": "Fix Issues",
      "type": "implementer",
      "agent": "integration_fixer",
      "description": "Fixes any bugs or issues found during testing. Iterates until feature works correctly.",
      "inputs": ["test_feature"]
    },
    {
      "id": "feature_complete",
      "name": "Feature Complete",
      "type": "reviewer",
      "agent": "game_feature_validator",
      "description": "Confirms feature is working and integrated. Documents what was built. Decides if more features should be implemented.",
      "inputs": ["fix_issues"]
    }
  ],
  "connections": [
    {"from": "assess_state", "to": "setup_client", "condition": "needs_setup"},
    {"from": "assess_state", "to": "select_feature", "condition": "ready_for_features"},
    {"from": "setup_client", "to": "select_feature", "condition": "setup_complete"},
    {"from": "select_feature", "to": "implement_client", "condition": "feature_selected"},
    {"from": "implement_client", "to": "implement_server", "condition": "needs_backend"},
    {"from": "implement_client", "to": "test_feature", "condition": "client_only"},
    {"from": "implement_server", "to": "test_feature", "condition": "implementation_complete"},
    {"from": "test_feature", "to": "fix_issues", "condition": "has_issues"},
    {"from": "test_feature", "to": "feature_complete", "condition": "working"},
    {"from": "fix_issues", "to": "test_feature", "condition": "retry"},
    {"from": "feature_complete", "to": "select_feature", "condition": "continue"},
    {"from": "feature_complete", "to": "end", "condition": "done"}
  ],
  "startStage": "assess_state"
}
