{
  "id": "chainsocial-milestone-v1",
  "name": "ChainSocial Milestone Executor V1",
  "description": "Executes ChainSocial development milestones. Loads context from ROADMAP.md and specifications, plans implementation, executes, tests, and validates against acceptance criteria.",
  "version": "1.1.0",
  "category": "development",
  "project": {
    "name": "ChainSocial",
    "path": "/mnt/c/github/chainsocial",
    "documentation": {
      "roadmap": "ROADMAP.md",
      "vision": "VISION.md",
      "workstreams": "WORKSTREAMS.md",
      "glossary": "GLOSSARY.md",
      "specs": [
        "SPEC_01_IDENTITY.md",
        "SPEC_02_CONTENT_DECAY.md",
        "SPEC_03_PROOF_OF_WORK.md",
        "SPEC_04_SPACES.md",
        "SPEC_05_FORKS_CONSENSUS.md",
        "SPEC_06_NETWORK_SYNC.md",
        "SPEC_07_CONTENT_DISTRIBUTION.md",
        "SPEC_08_RECURSIVE_BLOCKS.md"
      ],
      "research": [
        "RESEARCH-01-sybil-resistance.md",
        "RESEARCH-02-bootstrap-discovery.md",
        "RESEARCH-03-light-clients.md",
        "RESEARCH-04-moderation-patterns.md",
        "RESEARCH-05-legal.md"
      ]
    }
  },
  "stages": [
    {
      "id": "load_milestone_context",
      "name": "Load Milestone Context",
      "type": "context_loader",
      "agent": "milestone_context_loader",
      "description": "Read ROADMAP.md, extract milestone details, identify required documentation, and build execution context",
      "decisions": [
        {"choice": "context_loaded", "description": "Milestone context and required docs loaded successfully"},
        {"choice": "milestone_not_found", "description": "Specified milestone ID not found in roadmap"},
        {"choice": "missing_dependencies", "description": "Prerequisite milestones not completed"}
      ]
    },
    {
      "id": "read_specifications",
      "name": "Read Required Specifications",
      "type": "reader",
      "agent": "spec_reader",
      "description": "Read all specification documents required for this milestone. Extract relevant sections and constraints.",
      "inputs": ["load_milestone_context"],
      "decisions": [
        {"choice": "specs_loaded", "description": "All required specifications read and understood"},
        {"choice": "spec_missing", "description": "Required specification file not found"}
      ]
    },
    {
      "id": "plan_implementation",
      "name": "Plan Implementation",
      "type": "planner",
      "agent": "milestone_planner",
      "description": "Create detailed implementation plan based on milestone deliverables and spec requirements",
      "inputs": ["load_milestone_context", "read_specifications"],
      "decisions": [
        {"choice": "plan_ready", "description": "Implementation plan complete with concrete steps"},
        {"choice": "needs_clarification", "description": "Ambiguity in requirements needs resolution"}
      ]
    },
    {
      "id": "review_plan",
      "name": "Review and Refine Plan",
      "type": "validator",
      "agent": "milestone_plan_reviewer",
      "description": "Critically evaluate plan for completeness and specificity. Refine vague steps into concrete actions with exact data structures, file paths, and test cases.",
      "inputs": ["plan_implementation", "load_milestone_context", "read_specifications"],
      "decisions": [
        {"choice": "plan_approved", "description": "Plan is implementation-ready with sufficient detail"},
        {"choice": "plan_needs_revision", "description": "Plan requires more specificity before execution"},
        {"choice": "plan_rejected", "description": "Plan is fundamentally flawed, needs complete rework"}
      ]
    },
    {
      "id": "execute_implementation",
      "name": "Execute Implementation",
      "type": "executor",
      "agent": "task_executor",
      "description": "Implement the milestone according to refined plan. Create code, data structures, tests as specified.",
      "inputs": ["review_plan"],
      "decisions": [
        {"choice": "implementation_complete", "description": "All planned work implemented"},
        {"choice": "blocked", "description": "Implementation blocked by issue requiring intervention"}
      ]
    },
    {
      "id": "run_tests",
      "name": "Run Milestone Tests",
      "type": "executor",
      "agent": "milestone_tester",
      "description": "Execute tests and benchmarks specified in milestone. Capture metrics for measurement targets.",
      "inputs": ["execute_implementation", "load_milestone_context"],
      "decisions": [
        {"choice": "tests_passed", "description": "All tests pass, metrics within targets"},
        {"choice": "tests_failed", "description": "One or more tests failed"},
        {"choice": "metrics_outside_target", "description": "Tests pass but metrics outside acceptable range"}
      ]
    },
    {
      "id": "validate_acceptance",
      "name": "Validate Acceptance Criteria",
      "type": "validator",
      "agent": "milestone_validator",
      "description": "Verify milestone against acceptance criteria from ROADMAP.md. Check all deliverables complete.",
      "inputs": ["run_tests", "load_milestone_context", "execute_implementation"],
      "decisions": [
        {"choice": "MILESTONE_COMPLETE", "description": "All acceptance criteria met, milestone complete"},
        {"choice": "PARTIAL_COMPLETE", "description": "Core deliverables done, some criteria need work"},
        {"choice": "INCOMPLETE", "description": "Significant acceptance criteria not met"}
      ]
    },
    {
      "id": "update_documentation",
      "name": "Update Documentation",
      "type": "executor",
      "agent": "doc_updater",
      "description": "Update specs, roadmap status, and create any required documentation artifacts",
      "inputs": ["validate_acceptance", "execute_implementation"],
      "decisions": [
        {"choice": "docs_updated", "description": "All documentation updated and committed"}
      ]
    }
  ],
  "flow": {
    "type": "conditional",
    "description": "Sequential milestone execution with validation and retry loops",
    "connections": [
      {
        "from": "load_milestone_context",
        "to": "read_specifications",
        "condition": "context_loaded",
        "description": "Context loaded, read required specs"
      },
      {
        "from": "load_milestone_context",
        "to": null,
        "condition": "milestone_not_found",
        "description": "Invalid milestone - PIPELINE ENDS"
      },
      {
        "from": "load_milestone_context",
        "to": null,
        "condition": "missing_dependencies",
        "description": "Dependencies not met - PIPELINE ENDS"
      },
      {
        "from": "read_specifications",
        "to": "plan_implementation",
        "condition": "specs_loaded",
        "description": "Specs understood, plan implementation"
      },
      {
        "from": "read_specifications",
        "to": null,
        "condition": "spec_missing",
        "description": "Missing specification - PIPELINE ENDS"
      },
      {
        "from": "plan_implementation",
        "to": "review_plan",
        "condition": "plan_ready",
        "description": "Plan ready, submit for review"
      },
      {
        "from": "plan_implementation",
        "to": null,
        "condition": "needs_clarification",
        "description": "Needs clarification - PIPELINE ENDS for user input"
      },
      {
        "from": "review_plan",
        "to": "execute_implementation",
        "condition": "plan_approved",
        "description": "Plan approved with refinements, begin implementation"
      },
      {
        "from": "review_plan",
        "to": "plan_implementation",
        "condition": "plan_needs_revision",
        "description": "Plan needs more detail, revise and resubmit"
      },
      {
        "from": "review_plan",
        "to": null,
        "condition": "plan_rejected",
        "description": "Plan fundamentally flawed - PIPELINE ENDS for rethinking"
      },
      {
        "from": "execute_implementation",
        "to": "run_tests",
        "condition": "implementation_complete",
        "description": "Implementation done, run tests"
      },
      {
        "from": "execute_implementation",
        "to": null,
        "condition": "blocked",
        "description": "Implementation blocked - PIPELINE ENDS for intervention"
      },
      {
        "from": "run_tests",
        "to": "validate_acceptance",
        "condition": "tests_passed",
        "description": "Tests passed, validate acceptance criteria"
      },
      {
        "from": "run_tests",
        "to": "execute_implementation",
        "condition": "tests_failed",
        "description": "Tests failed, fix implementation"
      },
      {
        "from": "run_tests",
        "to": "review_plan",
        "condition": "metrics_outside_target",
        "description": "Metrics outside target, review approach with context of failure"
      },
      {
        "from": "validate_acceptance",
        "to": "update_documentation",
        "condition": "MILESTONE_COMPLETE",
        "description": "Milestone complete, update docs"
      },
      {
        "from": "validate_acceptance",
        "to": "execute_implementation",
        "condition": "PARTIAL_COMPLETE",
        "description": "Partial complete, finish remaining work"
      },
      {
        "from": "validate_acceptance",
        "to": "review_plan",
        "condition": "INCOMPLETE",
        "description": "Incomplete, review and refine approach with context of what failed"
      },
      {
        "from": "update_documentation",
        "to": null,
        "condition": "docs_updated",
        "description": "Documentation updated - PIPELINE ENDS SUCCESSFULLY"
      }
    ]
  },
  "metadata": {
    "tags": ["chainsocial", "milestone", "development", "specification-driven"],
    "author": "Claude Plus Development System",
    "project": "ChainSocial",
    "purpose": "Execute development milestones from ROADMAP.md with full spec context"
  }
}
